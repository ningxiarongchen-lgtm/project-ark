# 项目优化功能快速指南 ⚡

**版本**: v1.0  
**更新**: 2025-10-27

---

## 🚀 快速使用

### 1. 打开项目详情页

```
导航: 项目列表 → 点击项目 → 项目详情
URL: /projects/:id
```

---

### 2. 执行优化

```
在选型列表上方
  ↓
找到"生成优化报价清单"按钮（紫色渐变）
  ↓
点击按钮
  ↓
3秒内得到优化结果
```

---

### 3. 查看结果

**优化模态框包含**:
- ✅ 4个统计指标
  - 原始选型数
  - 优化后型号数
  - 合并率
  - 优化后总价
- ✅ 优化BOM表格
  - 序号
  - 型号
  - 数量
  - 单价/总价
  - 覆盖位号

---

### 4. 保存结果

```
点击"确认并保存"按钮
  ↓
保存到项目
  ↓
模态框关闭
  ↓
页面显示已保存的优化BOM
```

---

## 📊 界面元素

### 优化按钮样式

```jsx
🎨 紫色渐变背景
📏 48px 高度
⚡ 闪电图标
💬 "生成优化报价清单 (Optimize BOM)"
```

---

### 优化结果显示

```
┌─────────────────────────────────────┐
│ 📊 统计卡片                          │
│ [原始5个] [优化3个] [40%] [¥34,515] │
├─────────────────────────────────────┤
│ 📋 优化BOM表格                       │
│ 1 | SF10-150DA | 3 | ¥8,500 | ...  │
│ 2 | AT-DA63    | 1 | ¥90    | ...  │
└─────────────────────────────────────┘
```

---

## 💡 关键功能

### 覆盖位号显示

**鼠标悬停** → 显示完整位号列表

```
显示: [V-101] [V-102] [V-103] +2 more
悬停: V-101, V-102, V-103, V-104, V-105
```

---

### 已保存优化BOM

**位置**: 选型列表下方

```
✨ 优化后的物料清单 / Optimized BOM
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[优化BOM表格]
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
统计: 优化后型号数 | 总数量 | 优化后总价
```

---

## 🔄 典型工作流

### 场景 1: 新项目优化

```
1. 完成5个阀门选型 ✓
2. 点击优化按钮 ⚡
3. 查看结果: 5→3, 合并率40% 📊
4. 确认并保存 💾
5. 生成报价单 📄
```

---

### 场景 2: 更新优化

```
1. 查看已保存的优化BOM ✓
2. 新增3个选型 ➕
3. 重新执行优化 ⚡
4. 对比新旧结果 📊
5. 确认并保存（覆盖旧结果） 💾
```

---

## 📈 优化效果示例

### 输入（5个选型）

```
V-101: SF10-150DA, 3500 Nm, ¥8,500
V-102: SF10-150DA, 3200 Nm, ¥8,500
V-103: SF10-150DA, 2800 Nm, ¥8,500
V-104: AT-DA63,    50 Nm,   ¥90
V-105: SF10-150DA-T1, 3600 Nm, ¥8,925
```

---

### 输出（3个型号）

```
1. SF10-150DA    × 3 = ¥25,500
   覆盖: V-101, V-102, V-103

2. SF10-150DA-T1 × 1 = ¥8,925
   覆盖: V-105

3. AT-DA63       × 1 = ¥90
   覆盖: V-104

━━━━━━━━━━━━━━━━━━━━━━━━━━
合并率: 40%
总价: ¥34,515
```

---

## ⚠️ 注意事项

### 1. 优化前提

- ✅ 至少有1个选型条目
- ✅ 选型数据完整
- ✅ 包含必要字段（位号、型号、扭矩等）

---

### 2. 保存规则

- ⚠️ 每次保存会覆盖之前的优化结果
- 💡 建议确认无误后再保存
- 📝 可以多次优化查看不同结果

---

### 3. 兼容性

**可归并的选型必须满足**:
- 相同系列 (SF/AT/GY)
- 相同作用类型 (DA/SR)
- 相同温度代码
- 扭矩满足要求

---

## 🛠️ 技术要求

### 浏览器支持

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

---

### 网络要求

- ✅ 保存操作需要网络连接
- ✅ 优化计算在本地完成（离线可用）

---

## ❓ 常见问题

### Q: 优化按钮是灰色的？

**A**: 当前项目没有选型数据。请先添加选型条目。

---

### Q: 优化结果和预期不同？

**A**: 检查选型的参数是否兼容（系列、类型、温度等）。

---

### Q: 保存失败？

**A**: 
1. 检查网络连接
2. 检查登录状态
3. 查看控制台错误信息

---

### Q: 如何查看优化历史？

**A**: 当前版本仅保存最新的优化结果。未来版本将支持优化历史。

---

## 🎯 最佳实践

### 1. 优化时机

```
✅ 完成所有选型后
✅ 生成报价单前
✅ 与客户确认前
```

---

### 2. 检查清单

```
□ 所有选型数据完整
□ 位号已正确填写
□ 扭矩需求准确
□ 特殊要求已标注
```

---

### 3. 结果验证

```
□ 检查覆盖位号是否正确
□ 验证型号数量合理
□ 确认总价计算准确
□ 查看合并率是否符合预期
```

---

## 📞 获取帮助

### 技术文档

- 📖 `项目优化功能集成完成报告.md` - 完整技术文档
- 📖 `项目选型优化算法说明.md` - 算法详解
- 📖 `优化算法快速参考.md` - 算法参考

---

### 报告问题

如遇到问题，请记录：
1. 项目ID
2. 选型数量
3. 错误信息
4. 浏览器版本

---

**版本**: v1.0  
**状态**: ✅ 生产就绪  
**下一步**: 开始使用，享受智能优化！🚀

