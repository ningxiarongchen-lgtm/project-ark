# 📖 智能制造系统 - 路由功能完整说明文档

**文档版本：** v2.0  
**更新日期：** 2025-10-30  
**适用系统：** 智能制造综合管理系统

---

## 📑 目录

- [1. 路由总览](#1-路由总览)
- [2. 公共路由（无需登录）](#2-公共路由无需登录)
- [3. 通用功能路由（所有角色）](#3-通用功能路由所有角色)
- [4. 管理员专属路由](#4-管理员专属路由)
- [5. 技术工程师路由](#5-技术工程师路由)
- [6. 商务工程师路由](#6-商务工程师路由)
- [7. 销售经理路由](#7-销售经理路由)
- [8. 采购专员路由](#8-采购专员路由)
- [9. 生产计划员路由](#9-生产计划员路由)
- [10. 售后工程师路由](#10-售后工程师路由)
- [11. 特殊路由说明](#11-特殊路由说明)

---

## 1. 路由总览

### 📊 统计信息

- **总路由数量：** 30+
- **公共路由：** 2个
- **受保护路由：** 28+
- **角色专属路由：** 15+

### 🎯 路由设计原则

1. **单页应用（SPA）**：使用React Router实现前端路由
2. **权限控制**：基于角色的访问控制（RBAC）
3. **懒加载**：所有页面组件使用懒加载优化性能
4. **嵌套路由**：使用AttioLayout作为主布局容器

### 🔒 权限系统

| 角色英文名 | 角色中文名 | 权限级别 |
|-----------|----------|---------|
| Administrator | 管理员 | 最高权限 |
| Technical Engineer | 技术工程师 | 技术选型、售后处理 |
| Sales Engineer | 商务工程师 | 商务管理、合同跟进 |
| Sales Manager | 销售经理 | 项目管理、团队协调 |
| Procurement Specialist | 采购专员 | 采购管理、供应商管理 |
| Production Planner | 生产计划员 | 生产排期、订单管理 |
| After-sales Engineer | 售后工程师 | 售后服务、工单处理 |

---

## 2. 公共路由（无需登录）

### `/login` - 登录页面

- **功能：** 用户登录
- **页面文件：** `pages/Login.jsx`
- **权限：** 公开访问
- **特性：**
  - 手机号 + 密码登录
  - JWT令牌认证
  - 记住登录状态
  - 首次登录强制修改密码

---

### `/change-password` - 修改密码页面

- **功能：** 修改用户密码
- **页面文件：** `pages/ChangePassword.jsx`
- **权限：** 需登录（跳过密码检查）
- **特性：**
  - 首次登录强制修改
  - 旧密码验证
  - 新密码安全要求
  - 修改成功后自动跳转

---

## 3. 通用功能路由（所有角色）

### `/` 或 `/dashboard` - 仪表盘

- **功能：** 角色专属仪表盘（智能分发）
- **页面文件：** `pages/Dashboard.jsx`
- **访问权限：** 所有登录用户
- **可访问角色：** 
  - ✅ Administrator
  - ✅ Technical Engineer
  - ✅ Sales Engineer
  - ✅ Sales Manager
  - ✅ Procurement Specialist
  - ✅ Production Planner
  - ✅ After-sales Engineer

**各角色看到的内容：**

| 角色 | Dashboard内容 |
|------|--------------|
| 管理员 | 待处理用户申请、密码重置申请、数据导入请求、系统异常警告 |
| 技术工程师 | 待选型任务、今日完成、待处理售后工单、选型任务看板（按紧急度） |
| 商务工程师 | 项目总数、待报价、待催30%预付款、待催70%尾款、待下生产订单、本月成交金额 |
| 销售经理 | 项目总数、待指派技术工程师、询价中项目、已赢单项目、客户跟进提醒 |
| 采购专员 | 采购订单统计、待处理采购单、供应商信息 |
| 生产计划员 | 生产订单统计、待排期订单、生产进度 |
| 售后工程师 | 待处理工单、今日完成、客户满意度 |

---

### `/profile` - 个人资料

- **功能：** 查看和编辑个人信息
- **页面文件：** `pages/Profile.jsx`
- **访问权限：** 所有登录用户
- **特性：**
  - 查看个人信息
  - 修改联系方式
  - 更改密码
  - 头像上传

---

### `/products/:id` - 产品详情

- **功能：** 查看产品详细信息
- **页面文件：** `pages/ProductDetails.jsx`
- **访问权限：** 指定角色
- **可访问角色：**
  - ✅ Administrator
  - ✅ Technical Engineer
  - ✅ Sales Engineer
  - ✅ Procurement Specialist
  - ✅ Production Planner
  - ✅ After-sales Engineer
- **特性：**
  - 产品详细参数
  - 技术规格
  - 库存信息
  - 供应商信息
  - 历史价格

---

### `/ecos/:id` - 工程变更单详情

- **功能：** 查看工程变更单（ECO）
- **页面文件：** `pages/ECODetails.jsx`
- **访问权限：** 所有登录用户
- **特性：**
  - 变更单详情
  - 审批流程
  - 变更历史
  - 相关文档

---

## 4. 管理员专属路由

### `/admin` - 用户管理

- **功能：** 管理系统用户
- **页面文件：** `pages/AdminPanel.jsx`
- **访问权限：** 仅管理员
- **菜单名称：** 用户管理
- **图标：** 👤 UserOutlined
- **特性：**
  - 创建新用户
  - 编辑用户信息
  - 分配用户角色
  - 重置用户密码
  - 启用/禁用用户
  - 查看用户活动日志

---

### `/product-import` - 产品批量导入

- **功能：** 批量导入产品数据
- **页面文件：** `pages/ProductImport.jsx`
- **访问权限：** 管理员、技术工程师
- **可访问角色：**
  - ✅ Administrator
  - ✅ Technical Engineer
- **菜单名称：** 产品批量导入（仅管理员菜单可见）
- **图标：** 📤 UploadOutlined
- **特性：**
  - Excel文件上传
  - 数据格式验证
  - 批量导入产品
  - 导入结果报告
  - 错误数据处理

---

### `/data-management` - 数据管理

- **功能：** 管理系统基础数据
- **页面文件：** `pages/DataManagement.jsx`
- **访问权限：** 管理员、技术工程师、采购专员
- **可访问角色：**
  - ✅ Administrator
  - ✅ Technical Engineer
  - ✅ Procurement Specialist
- **菜单名称：** 数据管理（管理员和采购专员菜单可见）
- **图标：** 🗄️ DatabaseOutlined
- **特性：**
  - 产品数据管理
  - 分类管理
  - 参数配置
  - 数据导入导出
  - 数据清理

---

### `/admin/reports` - 系统报表

- **功能：** 查看系统统计报表
- **页面文件：** `pages/AdminReports.jsx`
- **访问权限：** 仅管理员
- **菜单名称：** 系统报表
- **图标：** 📊 BarChartOutlined
- **特性：**
  - 用户活动统计
  - 系统使用情况
  - 业务数据分析
  - 报表导出
  - 数据可视化

---

## 5. 技术工程师路由

### `/projects` - 项目管理

- **功能：** 项目列表和管理
- **页面文件：** `pages/ProjectDashboard.jsx`
- **访问权限：** 技术工程师、商务工程师、销售经理
- **可访问角色：**
  - ✅ Technical Engineer
  - ✅ Sales Engineer
  - ✅ Sales Manager
  - ❌ Administrator（管理员不参与业务）
- **菜单名称：** 项目管理
- **图标：** 📁 ProjectOutlined
- **特性：**
  - 项目列表查看
  - 项目筛选（按状态、优先级）
  - 项目搜索
  - 创建新项目
  - 项目状态跟踪

---

### `/projects/:id` - 项目详情

- **功能：** 查看和编辑项目详情
- **页面文件：** `pages/ProjectDetails.jsx`
- **访问权限：** 同项目管理
- **特性：**
  - 项目基本信息
  - 客户信息
  - 阀门清单
  - 选型方案
  - BOM物料清单
  - 报价信息
  - 审批流程
  - 项目时间线

---

### `/selection-engine` - 智慧选型

- **功能：** 智能执行器选型引擎
- **页面文件：** `pages/SelectionEngine.jsx`
- **访问权限：** 仅技术工程师
- **可访问角色：**
  - ✅ Technical Engineer
  - ❌ 其他角色（商务工程师已移除）
- **菜单名称：** 智慧选型
- **图标：** ⚡ ThunderboltOutlined
- **特性：**
  - 阀门参数输入
  - 工况参数配置
  - 智能算法推荐
  - 执行器匹配
  - 手动操作装置选择
  - 备件和维修包推荐
  - 技术数据表生成
  - 一键生成报价

---

### `/service-center` - 售后服务中心

- **功能：** 售后工单管理
- **页面文件：** `pages/ServiceCenter.jsx`
- **访问权限：** 售后工程师、销售经理、技术工程师
- **可访问角色：**
  - ✅ After-sales Engineer
  - ✅ Sales Manager
  - ✅ Technical Engineer
  - ❌ Administrator
- **菜单名称：** 售后服务
- **图标：** 🛠️ CustomerServiceOutlined
- **特性：**
  - 工单列表
  - 创建新工单
  - 工单分配
  - 工单处理
  - 工单状态跟踪
  - 客户沟通记录
  - 解决方案库

---

### `/service-center/:id` - 工单详情

- **功能：** 查看和处理工单
- **页面文件：** `pages/TicketDetails.jsx`
- **访问权限：** 同售后服务中心
- **特性：**
  - 工单详细信息
  - 客户信息
  - 产品信息
  - 问题描述
  - 处理进度
  - 沟通记录
  - 附件上传
  - 工单关闭

---

## 6. 商务工程师路由

### 💼 商务工程师主要功能

商务工程师负责商务报价、合同管理、款项跟进、生产订单下发等商务流程。

---

### `/projects` - 项目管理（商务视角）

- **功能：** 从商务角度管理项目
- **页面文件：** `pages/ProjectDashboard.jsx`
- **访问权限：** 商务工程师
- **菜单名称：** 项目管理
- **图标：** 📁 ProjectOutlined
- **商务工程师特性：**
  - 查看待报价项目
  - 完成商务报价
  - 跟踪报价状态
  - 催收款项
  - 下发生产订单

---

### 📝 款项管理（计划中的功能）

**注意：** 以下款项管理子路由在菜单配置中已定义，但实际页面可能还在开发中。

#### `/finance` - 款项管理总览
- **菜单名称：** 款项管理
- **图标：** 💰 DollarOutlined
- **访问权限：** 仅商务工程师

#### `/finance/down-payment` - 待催预付款
- **功能：** 管理30%预付款催收
- **菜单名称：** 待催预付款
- **特性：**
  - 待收预付款列表
  - 催款记录
  - 到账确认

#### `/finance/final-payment` - 待催尾款
- **功能：** 管理70%尾款催收
- **菜单名称：** 待催尾款
- **特性：**
  - 待收尾款列表
  - 催款记录
  - 到账确认

#### `/finance/records` - 款项跟进记录
- **功能：** 查看所有款项跟进记录
- **菜单名称：** 款项跟进记录
- **特性：**
  - 历史催款记录
  - 款项状态跟踪
  - 导出报表

---

### 📋 合同管理（计划中的功能）

**注意：** 以下合同管理子路由在菜单配置中已定义，但实际页面可能还在开发中。

#### `/contracts` - 合同管理总览
- **菜单名称：** 合同管理
- **图标：** 📄 FileTextOutlined
- **访问权限：** 仅商务工程师

#### `/contracts/pending-review` - 待审核合同
- **功能：** 审核待签订的合同
- **菜单名称：** 待审核合同
- **特性：**
  - 合同内容审核
  - 条款确认
  - 审核意见

#### `/contracts/pending-seal` - 待盖章合同
- **功能：** 管理待盖章合同
- **菜单名称：** 待盖章合同
- **特性：**
  - 待盖章列表
  - 盖章进度跟踪
  - 完成确认

#### `/contracts/signed` - 已签订合同
- **功能：** 查看已签订的合同
- **菜单名称：** 已签订合同
- **特性：**
  - 合同归档
  - 合同查询
  - 合同下载

---

### 🏭 生产订单管理（计划中的功能）

**注意：** 以下生产订单子路由在菜单配置中已定义，但实际页面可能还在开发中。

#### `/production-orders` - 生产订单总览
- **菜单名称：** 生产订单
- **图标：** 🔧 ToolOutlined
- **访问权限：** 仅商务工程师

#### `/production-orders/pending` - 待下发订单
- **功能：** 管理待下发的生产订单
- **菜单名称：** 待下发订单
- **特性：**
  - 预付款已到账项目
  - 下发生产订单
  - 订单详情确认

#### `/production-orders/issued` - 已下发订单
- **功能：** 查看已下发的生产订单
- **菜单名称：** 已下发订单
- **特性：**
  - 订单状态跟踪
  - 生产进度查询
  - 交期管理

---

### 💬 报价管理（计划中的功能）

**注意：** 以下报价管理子路由在菜单配置中已定义，但实际页面可能还在开发中。

#### `/quotations` - 报价管理总览
- **菜单名称：** 报价管理
- **图标：** 📄 FileTextOutlined
- **访问权限：** 仅商务工程师

#### `/quotations/pending` - 待报价项目
- **功能：** 管理待报价的项目
- **菜单名称：** 待报价项目
- **特性：**
  - 待报价列表
  - 快速报价
  - 报价模板

#### `/quotations/completed` - 已报价项目
- **功能：** 查看已报价的项目
- **菜单名称：** 已报价项目
- **特性：**
  - 报价历史
  - 中标率统计
  - 报价调整

---

## 7. 销售经理路由

### `/projects` - 项目管理（销售经理视角）

- **功能：** 从管理角度查看所有项目
- **页面文件：** `pages/ProjectDashboard.jsx`
- **访问权限：** 销售经理
- **菜单名称：** 项目管理
- **图标：** 📁 ProjectOutlined
- **销售经理特性：**
  - 查看团队所有项目
  - 分配技术工程师
  - 项目进度监控
  - 项目统计分析

---

### `/orders` - 订单管理

- **功能：** 管理销售订单
- **页面文件：** `pages/OrderManagement.jsx`
- **访问权限：** 销售经理、生产计划员
- **可访问角色：**
  - ✅ Sales Manager
  - ✅ Production Planner
  - ❌ Administrator
- **菜单名称：** 订单管理
- **图标：** ✅ FileDoneOutlined
- **特性：**
  - 订单列表
  - 订单状态跟踪
  - 订单搜索筛选
  - 订单详情查看
  - 订单统计报表

---

### `/orders/:id` - 订单详情

- **功能：** 查看订单详细信息
- **页面文件：** `pages/OrderDetails.jsx`
- **访问权限：** 同订单管理
- **特性：**
  - 订单基本信息
  - 客户信息
  - 产品清单
  - 生产进度
  - 发货信息
  - 回款信息

---

### `/product-catalog` - 产品目录

- **功能：** 销售产品目录查询
- **页面文件：** `pages/ProductCatalog.jsx`
- **访问权限：** 销售经理、管理员
- **可访问角色：**
  - ✅ Sales Manager
  - ✅ Administrator
- **菜单名称：** 产品目录
- **图标：** 🗄️ DatabaseOutlined
- **特性：**
  - 产品分类浏览
  - 产品搜索
  - 产品参数查询
  - 价格信息
  - 库存查询
  - 产品对比

---

### `/service-center` - 售后服务（管理视角）

- **功能：** 查看和管理售后工单
- **页面文件：** `pages/ServiceCenter.jsx`
- **访问权限：** 销售经理
- **特性：**
  - 查看所有工单
  - 工单分配
  - 工单统计
  - 客户满意度

---

## 8. 采购专员路由

### `/data-management` - 数据管理

- **功能：** 管理产品数据
- **页面文件：** `pages/DataManagement.jsx`
- **访问权限：** 采购专员
- **菜单名称：** 数据管理
- **图标：** 🗄️ DatabaseOutlined
- **采购专员特性：**
  - 产品信息维护
  - 供应商信息
  - 价格更新
  - 库存管理

---

### `/products` - 产品数据库

- **功能：** 查看产品数据库
- **页面文件：** `pages/Products.jsx` → 重定向到 `/data-management`
- **访问权限：** 采购专员、生产计划员、售后工程师
- **可访问角色：**
  - ✅ Procurement Specialist
  - ✅ Production Planner
  - ✅ After-sales Engineer
  - ❌ Sales Engineer（已移除）
- **菜单名称：** 产品数据库
- **图标：** 🗄️ DatabaseOutlined
- **特性：**
  - 产品查询
  - 技术参数
  - 库存信息
  - 供应商信息

---

### `/purchase-orders` - 采购管理

- **功能：** 管理采购订单
- **页面文件：** `pages/PurchaseOrderManagement.jsx`
- **访问权限：** 管理员、采购专员
- **可访问角色：**
  - ✅ Administrator
  - ✅ Procurement Specialist
  - ✅ Commercial Engineer（商务工程师）
- **菜单名称：** 采购管理（仅采购专员菜单可见）
- **图标：** 🛒 ShoppingCartOutlined
- **特性：**
  - 采购订单列表
  - 创建采购订单
  - 采购单审批
  - 供应商管理
  - 到货确认

---

### `/purchase-orders/:id` - 采购订单详情

- **功能：** 查看采购订单详情
- **页面文件：** `pages/PurchaseOrderDetails.jsx`
- **访问权限：** 同采购管理
- **特性：**
  - 订单详细信息
  - 物料清单
  - 供应商信息
  - 交货期
  - 付款信息
  - 到货记录

---

### `/purchase-orders/create` - 创建采购订单

- **功能：** 创建新采购订单
- **页面文件：** `pages/CreatePurchaseOrder.jsx`
- **访问权限：** 管理员、采购专员
- **特性：**
  - 选择供应商
  - 添加采购物料
  - 设置交货期
  - 填写价格
  - 提交审批

---

### `/purchase-orders/edit/:id` - 编辑采购订单

- **功能：** 编辑采购订单
- **页面文件：** `pages/CreatePurchaseOrder.jsx`
- **访问权限：** 管理员、采购专员
- **特性：**
  - 修改订单信息
  - 调整物料
  - 更新价格
  - 重新提交

---

### `/suppliers` - 供应商管理

- **功能：** 管理供应商信息
- **页面文件：** `pages/SupplierManagement.jsx`
- **访问权限：** 管理员、采购专员
- **可访问角色：**
  - ✅ Administrator
  - ✅ Procurement Specialist
- **特性：**
  - 供应商列表
  - 添加供应商
  - 供应商资质
  - 供应商评级
  - 合作历史

---

## 9. 生产计划员路由

### `/orders` - 订单管理（生产视角）

- **功能：** 从生产角度管理订单
- **页面文件：** `pages/OrderManagement.jsx`
- **访问权限：** 生产计划员
- **菜单名称：** 订单管理
- **图标：** ✅ FileDoneOutlined
- **生产计划员特性：**
  - 查看生产订单
  - 订单排期
  - 生产进度跟踪

---

### `/production-schedule` - 生产排期

- **功能：** 管理生产计划和排期
- **页面文件：** `pages/ProductionSchedule.jsx`
- **访问权限：** 仅生产计划员
- **可访问角色：**
  - ✅ Production Planner
  - ❌ Administrator
- **菜单名称：** 生产排期
- **图标：** 📅 ScheduleOutlined
- **特性：**
  - 生产计划看板
  - 产能分析
  - 订单排期
  - 生产进度
  - 资源调度
  - 甘特图展示

---

### `/shop-floor` - 车间终端（未在菜单中）

- **功能：** 车间生产终端
- **页面文件：** `pages/ShopFloorTerminal.jsx`
- **访问权限：** 需确认
- **特性：**
  - 工单显示
  - 生产进度上报
  - 质量检验
  - 异常报告

---

### `/quality` - 质量管理（未在菜单中）

- **功能：** 质量检验管理
- **页面文件：** `pages/QualityManagement.jsx`
- **访问权限：** 需确认
- **特性：**
  - 质检单列表
  - 质检标准
  - 检验记录
  - 不合格品处理

---

### `/products` - 产品数据库

- **功能：** 查看产品信息（生产用）
- **页面文件：** 重定向到 `/data-management`
- **访问权限：** 生产计划员
- **菜单名称：** 产品数据库
- **图标：** 🗄️ DatabaseOutlined
- **生产计划员特性：**
  - 产品BOM
  - 工艺流程
  - 生产周期
  - 物料需求

---

## 10. 售后工程师路由

### `/service-center` - 售后服务中心

- **功能：** 处理售后工单
- **页面文件：** `pages/ServiceCenter.jsx`
- **访问权限：** 售后工程师
- **菜单名称：** 售后服务
- **图标：** 🛠️ CustomerServiceOutlined
- **售后工程师特性：**
  - 查看分配给我的工单
  - 接受工单
  - 处理工单
  - 更新工单状态
  - 记录解决方案

---

### `/products` - 产品数据库

- **功能：** 查看产品信息（售后用）
- **页面文件：** 重定向到 `/data-management`
- **访问权限：** 售后工程师
- **菜单名称：** 产品数据库
- **图标：** 🗄️ DatabaseOutlined
- **售后工程师特性：**
  - 产品技术参数
  - 维修手册
  - 备件信息
  - 常见问题

---

## 11. 特殊路由说明

### 🔄 重定向路由

#### `/products` → `/data-management`

- **原因：** 统一产品数据管理入口
- **影响：** 所有访问 `/products` 的请求自动跳转到 `/data-management`
- **好处：** 
  - 简化路由结构
  - 统一数据管理界面
  - 向后兼容旧链接

---

### 🚫 未实现的路由（菜单中有，页面待开发）

以下路由在菜单配置中已定义，但可能还没有完整的页面实现：

| 路由路径 | 功能名称 | 所属角色 | 状态 |
|---------|---------|---------|------|
| `/finance/down-payment` | 待催预付款 | 商务工程师 | ⚠️ 待实现 |
| `/finance/final-payment` | 待催尾款 | 商务工程师 | ⚠️ 待实现 |
| `/finance/records` | 款项跟进记录 | 商务工程师 | ⚠️ 待实现 |
| `/contracts/pending-review` | 待审核合同 | 商务工程师 | ⚠️ 待实现 |
| `/contracts/pending-seal` | 待盖章合同 | 商务工程师 | ⚠️ 待实现 |
| `/contracts/signed` | 已签订合同 | 商务工程师 | ⚠️ 待实现 |
| `/production-orders/pending` | 待下发订单 | 商务工程师 | ⚠️ 待实现 |
| `/production-orders/issued` | 已下发订单 | 商务工程师 | ⚠️ 待实现 |
| `/quotations/pending` | 待报价项目 | 商务工程师 | ⚠️ 待实现 |
| `/quotations/completed` | 已报价项目 | 商务工程师 | ⚠️ 待实现 |

**说明：** 这些功能目前可能通过 `/projects` 页面的筛选功能实现，未来可能开发独立页面。

---

### 📱 未在菜单显示的路由

以下路由在系统中存在，但不在侧边栏菜单中显示：

| 路由路径 | 功能名称 | 原因 |
|---------|---------|------|
| `/` | 首页 | 自动跳转到Dashboard |
| `/profile` | 个人资料 | 在用户下拉菜单中 |
| `/change-password` | 修改密码 | 在用户下拉菜单中 |
| `/shop-floor` | 车间终端 | 专用终端界面 |
| `/quality` | 质量管理 | 暂未启用 |
| `/erp-dashboard` | ERP看板 | 暂未启用 |
| `/quotes` | 报价管理 | 功能整合到项目中 |
| `/quotes/:id` | 报价详情 | 功能整合到项目中 |

---

## 📊 路由权限矩阵

### 完整权限对照表

| 路由 | 管理员 | 技术工程师 | 商务工程师 | 销售经理 | 采购专员 | 生产计划员 | 售后工程师 |
|------|:-----:|:--------:|:--------:|:-------:|:-------:|:---------:|:---------:|
| `/dashboard` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| `/profile` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| `/admin` | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ |
| `/admin/reports` | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ |
| `/product-import` | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ |
| `/data-management` | ✅ | ✅ | ❌ | ❌ | ✅ | ❌ | ❌ |
| `/projects` | ❌ | ✅ | ✅ | ✅ | ❌ | ❌ | ❌ |
| `/selection-engine` | ❌ | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ |
| `/service-center` | ❌ | ✅ | ❌ | ✅ | ❌ | ❌ | ✅ |
| `/orders` | ❌ | ❌ | ❌ | ✅ | ❌ | ✅ | ❌ |
| `/production-schedule` | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ | ❌ |
| `/purchase-orders` | ✅ | ❌ | ✅ | ❌ | ✅ | ❌ | ❌ |
| `/suppliers` | ✅ | ❌ | ❌ | ❌ | ✅ | ❌ | ❌ |
| `/product-catalog` | ✅ | ❌ | ❌ | ✅ | ❌ | ❌ | ❌ |
| `/products` | ✅ | ✅ | ❌ | ❌ | ✅ | ✅ | ✅ |

---

## 🔧 技术实现说明

### 路由配置文件

- **主路由配置：** `frontend/src/App.jsx`
- **菜单配置：** `frontend/src/components/Layout/AttioLayout.jsx`
- **路由库：** React Router v6

### 权限验证

```javascript
// 受保护路由组件
<ProtectedRoute requiredRoles={['Sales Manager', 'Administrator']}>
  <ProductCatalog />
</ProtectedRoute>
```

### 懒加载

所有页面组件使用 `React.lazy()` 实现代码分割：

```javascript
const Dashboard = lazy(() => import('./pages/Dashboard'))
```

### 嵌套路由

使用 `AttioLayout` 作为主布局，所有业务路由嵌套在其中：

```javascript
<Route path="/" element={<AttioLayout />}>
  <Route path="dashboard" element={<Dashboard />} />
  {/* 其他嵌套路由 */}
</Route>
```

---

## 📝 使用建议

### 开发新功能时

1. **在 `App.jsx` 中添加路由配置**
2. **在 `AttioLayout.jsx` 的 `menuConfig` 中添加菜单项**
3. **创建对应的页面组件**
4. **配置权限角色**
5. **更新本文档**

### 测试路由权限

1. **使用不同角色账号登录**
2. **验证菜单显示是否正确**
3. **尝试直接访问URL验证权限控制**
4. **测试未授权访问的重定向**

---

## 🔄 更新日志

### v2.0 (2025-10-30)
- ✅ 创建完整的路由功能文档
- ✅ 整理所有角色的路由权限
- ✅ 标注未实现的功能路由
- ✅ 添加权限矩阵表格

### v1.0 (之前)
- 基础路由系统实现

---

## 📞 技术支持

如有路由相关问题，请检查：

1. **用户是否有对应角色权限**
2. **路由路径是否正确**
3. **页面组件是否已创建**
4. **菜单配置是否添加**
5. **浏览器控制台是否有错误**

---

**文档维护：** 开发团队  
**最后更新：** 2025-10-30  
**文档版本：** v2.0

