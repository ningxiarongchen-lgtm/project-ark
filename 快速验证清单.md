# 快速验证清单 ✅

## 🚀 5分钟快速验证

### 步骤 1: 自动化测试（推荐）

```bash
cd backend
./test-deployment.sh https://your-backend.onrender.com https://your-app.vercel.app
```

**期望结果:**
```
通过率: 90% 以上
🎉 优秀！系统已准备好部署到生产环境
```

---

### 步骤 2: 手动快速检查

#### ✅ 环境变量 (1分钟)

**Render:**
```
Dashboard > 你的服务 > Environment
☑ MONGODB_URI
☑ JWT_SECRET (至少32字符)
☑ NODE_ENV=production
☑ FRONTEND_URL=https://your-app.vercel.app
```

**Vercel:**
```
Dashboard > 项目 > Settings > Environment Variables
☑ VITE_API_URL=https://your-backend.onrender.com/api
```

---

#### ✅ HTTPS (30秒)

1. 访问前端: https://your-app.vercel.app
   - ☑ 地址栏显示 🔒
   
2. 访问后端: https://your-backend.onrender.com/api/health
   - ☑ 返回 `{"status":"ok"}`

---

#### ✅ Cookie 安全 (1分钟)

1. 登录系统 (admin@cmax.com / admin123)
2. F12 > Application > Cookies
3. 检查 `accessToken`:
   - ☑ HttpOnly: ✓
   - ☑ Secure: ✓ (生产环境)
   - ☑ SameSite: Strict
4. Console 输入: `document.cookie`
   - ☑ 看不到 accessToken ✅

---

#### ✅ 数据库访问 (1分钟)

**MongoDB Atlas:**
```
Network Access > IP Access List
☑ 无 0.0.0.0/0
☑ 有 3-4 个 Render IP
```

**Render 日志:**
```
Dashboard > Logs
☑ "Database connected successfully"
```

---

#### ✅ CORS (1分钟)

**浏览器 Console:**
```javascript
fetch('https://your-backend.onrender.com/api/health', {
  credentials: 'include'
}).then(r => r.json()).then(console.log)

// 期望: {status: "ok", ...} ✅
```

---

### 步骤 3: 功能测试 (1分钟)

1. **登录** ✅
2. **访问项目列表** ✅
3. **创建新项目** ✅
4. **登出** ✅
5. **再次登录** ✅

---

## 🎯 通过标准

- ✅ 所有复选框已勾选
- ✅ 自动化测试通过率 ≥ 90%
- ✅ 功能测试全部通过

---

## 🚨 发现问题？

**快速诊断:**

| 问题 | 解决 |
|------|------|
| Cookie 未设置 | 检查 CORS `credentials: true` |
| 数据库连接失败 | 检查 MongoDB IP 白名单 |
| CORS 错误 | 检查 `FRONTEND_URL` 环境变量 |
| 401 错误 | 检查 `JWT_SECRET` 是否一致 |

**详细文档:**
- 查看 `部署验证指南.md`
- 查看 `云服务部署安全清单.md`

---

## ✅ 完成确认

**验证人:** _____________  
**日期:** _____________  
**所有检查通过:** ☐

---

**🎉 验证完成！系统可以安全地服务用户了！**

