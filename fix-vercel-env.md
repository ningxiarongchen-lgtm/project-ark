# ğŸ”§ ä¿®å¤ Vercel ç¯å¢ƒå˜é‡é…ç½®

**é—®é¢˜**: å‰ç«¯è¯·æ±‚ç¼ºå°‘ `/api` å‰ç¼€  
**åŸå› **: Vercel ç¯å¢ƒå˜é‡é…ç½®é”™è¯¯  
**æ—¥æœŸ**: 2025-10-31

---

## ğŸ¯ å¿«é€Ÿä¿®å¤æ­¥éª¤ï¼ˆ2åˆ†é’Ÿï¼‰

### ç¬¬1æ­¥ï¼šç™»å½• Vercel

1. è®¿é—®ï¼šhttps://vercel.com/dashboard
2. æ‰¾åˆ°ä½ çš„é¡¹ç›®ï¼š`project-ark`
3. ç‚¹å‡»è¿›å…¥é¡¹ç›®

---

### ç¬¬2æ­¥ï¼šä¿®æ”¹ç¯å¢ƒå˜é‡

1. **ç‚¹å‡»** "Settings"ï¼ˆè®¾ç½®ï¼‰
2. **ç‚¹å‡»** "Environment Variables"ï¼ˆç¯å¢ƒå˜é‡ï¼‰
3. **æ‰¾åˆ°** `VITE_API_URL` å˜é‡
4. **ç‚¹å‡»** å³ä¾§çš„ç¼–è¾‘æŒ‰é’®ï¼ˆé“…ç¬”å›¾æ ‡ï¼‰æˆ–åˆ é™¤é‡æ–°æ·»åŠ 

---

### ç¬¬3æ­¥ï¼šæ›´æ–°å˜é‡å€¼

**å…³é”®ï¼šå¿…é¡»åŒ…å« `/api` åç¼€ï¼**

#### âœ… æ­£ç¡®é…ç½®ï¼š

```
Key: VITE_API_URL
Value: https://project-ark-efy7.onrender.com/api
```

**æ³¨æ„æœ«å°¾çš„ `/api` éå¸¸é‡è¦ï¼**

#### âŒ é”™è¯¯é…ç½®ï¼ˆä¸è¦ä½¿ç”¨ï¼‰ï¼š

```
âŒ https://project-ark-efy7.onrender.com          (ç¼ºå°‘ /api)
âŒ https://project-ark-efy7.onrender.com/         (ç¼ºå°‘ api)
âŒ https://project-ark-efy7.onrender.com/api/     (å¤šä½™çš„æ–œæ )
```

---

### ç¬¬4æ­¥ï¼šé€‰æ‹©ç¯å¢ƒ

ç¡®ä¿å‹¾é€‰æ‰€æœ‰ç¯å¢ƒï¼š
- âœ… Productionï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- âœ… Previewï¼ˆé¢„è§ˆç¯å¢ƒï¼‰  
- âœ… Developmentï¼ˆå¼€å‘ç¯å¢ƒï¼‰

---

### ç¬¬5æ­¥ï¼šä¿å­˜å¹¶é‡æ–°éƒ¨ç½²

1. **ç‚¹å‡»** "Save"ï¼ˆä¿å­˜ï¼‰

2. **è½¬åˆ°** "Deployments" æ ‡ç­¾

3. **ç‚¹å‡»** æœ€æ–°éƒ¨ç½²å³ä¾§çš„ "..." èœå•

4. **é€‰æ‹©** "Redeploy"ï¼ˆé‡æ–°éƒ¨ç½²ï¼‰

5. **âŒ å–æ¶ˆå‹¾é€‰** "Use existing Build Cache"ï¼ˆä¸ä½¿ç”¨ç¼“å­˜ï¼‰

6. **ç‚¹å‡»** "Redeploy" ç¡®è®¤

7. **ç­‰å¾…** 1-3 åˆ†é’Ÿéƒ¨ç½²å®Œæˆ

---

## ğŸ” éªŒè¯ä¿®å¤

### æ­¥éª¤1ï¼šç­‰å¾…éƒ¨ç½²å®Œæˆ

åœ¨ Vercel Deployments é¡µé¢ï¼š
- çœ‹åˆ°çŠ¶æ€å˜ä¸º **"Ready"**ï¼ˆç»¿è‰²ï¼‰

### æ­¥éª¤2ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜

**Chrome/Edge:**
- Windows: `Ctrl + Shift + Delete`
- Mac: `Cmd + Shift + Delete`

æˆ–è€…ä½¿ç”¨**æ— ç—•æ¨¡å¼**æµ‹è¯•

### æ­¥éª¤3ï¼šæµ‹è¯•ç™»å½•

1. è®¿é—® Vercel éƒ¨ç½²çš„ URL
2. æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
3. åˆ‡æ¢åˆ° **Network** æ ‡ç­¾
4. å°è¯•ç™»å½•

### æ­¥éª¤4ï¼šæ£€æŸ¥è¯·æ±‚ URL

åœ¨ Network æ ‡ç­¾ä¸­ï¼Œç™»å½•è¯·æ±‚åº”è¯¥æ˜¾ç¤ºï¼š

âœ… **æ­£ç¡®çš„è¯·æ±‚ URL**ï¼š
```
POST https://project-ark-efy7.onrender.com/api/auth/login
Status: 200 OK
```

âŒ **é”™è¯¯çš„è¯·æ±‚ URL**ï¼ˆä¿®å¤å‰ï¼‰ï¼š
```
POST https://project-ark-efy7.onrender.com/auth/login
Status: 404 Not Found
```

---

## ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦ `/api` åç¼€ï¼Ÿ

### åç«¯è·¯ç”±é…ç½®

åœ¨ `backend/server.js` ä¸­ï¼Œæ‰€æœ‰è·¯ç”±éƒ½æŒ‚è½½åœ¨ `/api` å‰ç¼€ä¸‹ï¼š

```javascript
app.use('/api/auth', authRoutes);           // è®¤è¯è·¯ç”±
app.use('/api/products', productRoutes);     // äº§å“è·¯ç”±
app.use('/api/projects', projectRoutes);     // é¡¹ç›®è·¯ç”±
// ... ç­‰ç­‰
```

### å‰ç«¯ API è°ƒç”¨

åœ¨ `frontend/src/services/api.js` ä¸­ï¼š

```javascript
// åˆ›å»º axios å®ä¾‹
const api = axios.create({
  baseURL: API_URL,  // è¿™é‡Œåº”è¯¥æ˜¯ï¼šhttps://xxx.com/api
  ...
})

// è°ƒç”¨ç™»å½•æ¥å£
export const authAPI = {
  login: (credentials) => api.post('/auth/login', credentials)
  //                                  ^^^^^^^^^^^
  //                                  ä¼šæ‹¼æ¥åˆ° baseURL åé¢
  //                                  å®Œæ•´URL: baseURL + '/auth/login'
}
```

æ‰€ä»¥ï¼š
- å¦‚æœ `baseURL = https://xxx.com/api`
- è°ƒç”¨ `api.post('/auth/login')`
- å®é™…è¯·æ±‚ï¼š`https://xxx.com/api/auth/login` âœ…

å¦‚æœæ²¡æœ‰ `/api`ï¼š
- å¦‚æœ `baseURL = https://xxx.com`
- è°ƒç”¨ `api.post('/auth/login')`
- å®é™…è¯·æ±‚ï¼š`https://xxx.com/auth/login` âŒï¼ˆ404 é”™è¯¯ï¼‰

---

## ğŸš¨ å¸¸è§é”™è¯¯

### é”™è¯¯1ï¼šå¤šä½™çš„æ–œæ 

```
âŒ https://project-ark-efy7.onrender.com/api/
```

è™½ç„¶å¯èƒ½å·¥ä½œï¼Œä½†ä¼šå¯¼è‡´åŒæ–œæ é—®é¢˜ï¼š
```
https://project-ark-efy7.onrender.com/api//auth/login
```

### é”™è¯¯2ï¼šç¯å¢ƒå˜é‡æœªä¿å­˜

ä¿®æ”¹åå¿…é¡»ï¼š
1. ç‚¹å‡» "Save" ä¿å­˜
2. é‡æ–°éƒ¨ç½²æ‰èƒ½ç”Ÿæ•ˆ

### é”™è¯¯3ï¼šä½¿ç”¨äº†æ„å»ºç¼“å­˜

é‡æ–°éƒ¨ç½²æ—¶å¿…é¡»ï¼š
- âŒ å–æ¶ˆå‹¾é€‰ "Use existing Build Cache"

---

## âœ… æˆåŠŸæ ‡å¿—

ä¿®å¤æˆåŠŸåï¼š

1. âœ… Vercel éƒ¨ç½²çŠ¶æ€æ˜¾ç¤º "Ready"
2. âœ… å¯ä»¥æ‰“å¼€å‰ç«¯é¡µé¢
3. âœ… ç™»å½•è¯·æ±‚å‘é€åˆ°æ­£ç¡®çš„ URLï¼ˆåŒ…å« `/api`ï¼‰
4. âœ… ç™»å½•æˆåŠŸï¼ŒçŠ¶æ€ç  200
5. âœ… å¯ä»¥æ­£å¸¸ä½¿ç”¨ç³»ç»ŸåŠŸèƒ½

---

## ğŸ“ ä»ç„¶æœ‰é—®é¢˜ï¼Ÿ

å¦‚æœä¿®å¤åä»ç„¶404ï¼Œæ£€æŸ¥ï¼š

### 1. åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œ

è®¿é—®åç«¯å¥åº·æ£€æŸ¥ï¼š
```
https://project-ark-efy7.onrender.com/health
```

åº”è¯¥è¿”å›ï¼š
```json
{
  "status": "OK",
  "timestamp": "2025-10-31T...",
  "uptime": ...,
  "database": "connected"
}
```

### 2. Vercel æ„å»ºæ—¥å¿—

1. Deployments â†’ ç‚¹å‡»æœ€æ–°éƒ¨ç½²
2. æŸ¥çœ‹ "Build Logs"
3. ç¡®è®¤ç¯å¢ƒå˜é‡å·²åŠ è½½ï¼š
   ```
   VITE_API_URL=https://project-ark-efy7.onrender.com/api
   ```

### 3. æµè§ˆå™¨æ§åˆ¶å°

1. æ‰“å¼€æ§åˆ¶å°ï¼ˆF12ï¼‰
2. è¾“å…¥ï¼š
   ```javascript
   console.log(import.meta.env.VITE_API_URL)
   ```
3. åº”è¯¥æ˜¾ç¤ºï¼š
   ```
   https://project-ark-efy7.onrender.com/api
   ```

---

## ğŸ‰ ä¿®å¤å®Œæˆ

å®Œæˆæ‰€æœ‰æ­¥éª¤åï¼Œä½ çš„ç³»ç»Ÿåº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼

**ä¸‹ä¸€æ­¥**ï¼š
- æµ‹è¯•ç™»å½•åŠŸèƒ½
- æµ‹è¯•å…¶ä»– API åŠŸèƒ½
- ç¡®è®¤æ‰€æœ‰æ¨¡å—æ­£å¸¸

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¶é—´**: 2025-10-31  
**æœ€åæ›´æ–°**: 2025-10-31

ğŸ“ **è®°å¾—ä¿å­˜è¿™ä¸ªæ–‡æ¡£ï¼Œä»¥åé‡åˆ°ç±»ä¼¼é—®é¢˜å¯ä»¥å‚è€ƒï¼**


