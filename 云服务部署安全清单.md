# äº‘æœåŠ¡éƒ¨ç½²å®‰å…¨æ¸…å• â˜ï¸ğŸ”’

## ğŸ“‹ éƒ¨ç½²æ¶æ„
- **å‰ç«¯**: Vercel
- **åç«¯**: Render
- **æ•°æ®åº“**: MongoDB Atlas
- **CDN/æ–‡ä»¶å­˜å‚¨**: Cloudinary (å¦‚ä½¿ç”¨)

---

## âœ… éƒ¨ç½²å‰å®‰å…¨æ£€æŸ¥æ¸…å•

### 1ï¸âƒ£ ç¯å¢ƒå˜é‡å®‰å…¨ ğŸ”

#### âŒ ç»å¯¹ç¦æ­¢
- âŒ åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ä»»ä½•å¯†é’¥æˆ–æ•æ„Ÿä¿¡æ¯
- âŒ å°† `.env` æ–‡ä»¶æäº¤åˆ° Git ä»“åº“
- âŒ åœ¨å‰ç«¯ä»£ç ä¸­æš´éœ²åç«¯å¯†é’¥

#### âœ… æ­£ç¡®åšæ³•

**åç«¯ (Render) ç¯å¢ƒå˜é‡:**

ç™»å½• Render Dashboard > é€‰æ‹©ä½ çš„æœåŠ¡ > Environment

```bash
# æ•°æ®åº“
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/cmax?retryWrites=true&w=majority

# JWT å¯†é’¥ (å¿…é¡»å¼ºå¯†ç )
JWT_SECRET=your-super-secret-key-at-least-32-characters-long
REFRESH_TOKEN_SECRET=your-refresh-token-secret-at-least-32-characters

# JWT è¿‡æœŸæ—¶é—´
JWT_EXPIRE=8h
REFRESH_TOKEN_EXPIRE=7d

# ç¯å¢ƒè®¾ç½®
NODE_ENV=production

# å‰ç«¯ URL (ç”¨äº CORS)
FRONTEND_URL=https://your-app.vercel.app

# ç«¯å£ (Render è‡ªåŠ¨æä¾›)
PORT=5001

# OpenAI API (å¦‚ä½¿ç”¨ AI åŠŸèƒ½)
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxx

# Cloudinary (å¦‚ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ )
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
```

**å‰ç«¯ (Vercel) ç¯å¢ƒå˜é‡:**

ç™»å½• Vercel Dashboard > é€‰æ‹©é¡¹ç›® > Settings > Environment Variables

```bash
# åç«¯ API URL
VITE_API_URL=https://your-backend.onrender.com/api

# å…¶ä»–å…¬å¼€é…ç½®
VITE_APP_NAME=C-MAX Selection System
```

**âš ï¸ é‡è¦æç¤º:**
- ä½¿ç”¨å¼ºéšæœºå¯†é’¥ï¼Œè‡³å°‘ 32 å­—ç¬¦
- ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒä½¿ç”¨ä¸åŒçš„å¯†é’¥
- å®šæœŸè½®æ¢å¯†é’¥ï¼ˆå»ºè®®æ¯ 3-6 ä¸ªæœˆï¼‰

**ç”Ÿæˆå¼ºå¯†é’¥çš„æ–¹æ³•:**
```bash
# åœ¨ç»ˆç«¯è¿è¡Œ
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

#### éªŒè¯æ¸…å•
- [ ] æ£€æŸ¥æœ¬åœ° `.env` æ–‡ä»¶æ˜¯å¦åœ¨ `.gitignore` ä¸­
- [ ] è¿è¡Œ `git log --all --full-history -- "*/.env"` ç¡®è®¤å†å²ä¸­æ—  .env
- [ ] æ£€æŸ¥ Render å’Œ Vercel ç¯å¢ƒå˜é‡å·²æ­£ç¡®é…ç½®
- [ ] ç¡®è®¤ä»£ç ä¸­æ— ç¡¬ç¼–ç å¯†é’¥

---

### 2ï¸âƒ£ HTTPS å¼ºåˆ¶ ğŸ”’

#### Vercel (å‰ç«¯)

âœ… **Vercel é»˜è®¤å¼ºåˆ¶ HTTPS**ï¼Œæ— éœ€é¢å¤–é…ç½®

éªŒè¯æ­¥éª¤:
1. è®¿é—® `http://your-app.vercel.app`
2. ç¡®è®¤è‡ªåŠ¨é‡å®šå‘åˆ° `https://your-app.vercel.app`

#### Render (åç«¯)

âœ… **Render é»˜è®¤æä¾› HTTPS**

é¢å¤–é…ç½® - åœ¨ä»£ç ä¸­å¼ºåˆ¶ HTTPS:

**æ–‡ä»¶: `backend/server.js`**

```javascript
// ç”Ÿäº§ç¯å¢ƒå¼ºåˆ¶ HTTPS
if (process.env.NODE_ENV === 'production') {
  app.use((req, res, next) => {
    if (req.header('x-forwarded-proto') !== 'https') {
      res.redirect(`https://${req.header('host')}${req.url}`)
    } else {
      next()
    }
  })
}
```

#### Cookie å®‰å…¨é…ç½®éªŒè¯

**æ–‡ä»¶: `backend/controllers/authController.js`**

ç¡®è®¤ Cookie é…ç½®:
```javascript
res.cookie('accessToken', accessToken, {
  httpOnly: true,
  secure: process.env.NODE_ENV === 'production',  // âœ… ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¸º true
  sameSite: 'strict',
  maxAge: 8 * 60 * 60 * 1000
});
```

#### éªŒè¯æ¸…å•
- [ ] Vercel åº”ç”¨è®¿é—®æ—¶ URL æ˜¾ç¤º ğŸ”’ (HTTPS)
- [ ] Render åç«¯ API è®¿é—®æ—¶ä½¿ç”¨ HTTPS
- [ ] æµè§ˆå™¨ DevTools > Security æ ‡ç­¾æ˜¾ç¤º "Connection is secure"
- [ ] Cookie æœ‰ Secure æ ‡è®° (ç”Ÿäº§ç¯å¢ƒ)

---

### 3ï¸âƒ£ æ•°æ®åº“è®¿é—®æƒé™ ğŸ—„ï¸

#### MongoDB Atlas ç½‘ç»œè®¿é—®æ§åˆ¶

**å½“å‰çŠ¶æ€ (ä¸å®‰å…¨):**
```
Network Access: 0.0.0.0/0 (Allow from Anywhere)
```
âš ï¸ è¿™æ„å‘³ç€ä»»ä½•äººéƒ½å¯ä»¥å°è¯•è¿æ¥ä½ çš„æ•°æ®åº“ï¼

**å®‰å…¨é…ç½®æ­¥éª¤:**

1. **è·å– Render å‡ºç«™ IP åœ°å€**

   ç™»å½• Render Dashboard:
   - é€‰æ‹©ä½ çš„åç«¯æœåŠ¡
   - è¿›å…¥ "Connect" æ ‡ç­¾
   - æ‰¾åˆ° "Outbound IP Addresses" (å‡ºç«™IPåœ°å€)
   - å¤åˆ¶æ‰€æœ‰ IP åœ°å€ (é€šå¸¸æœ‰ 3-4 ä¸ª)

   ç¤ºä¾‹:
   ```
   52.45.123.456
   54.78.234.567
   35.90.345.678
   ```

2. **é…ç½® MongoDB Atlas**

   ç™»å½• MongoDB Atlas:
   - è¿›å…¥ä½ çš„ Cluster
   - å·¦ä¾§èœå• > Network Access
   - ç‚¹å‡» "Delete" åˆ é™¤ `0.0.0.0/0` è§„åˆ™
   
3. **æ·»åŠ  Render IP ç™½åå•**

   - ç‚¹å‡» "+ ADD IP ADDRESS"
   - é€‰æ‹© "Add a different IP address"
   - é€ä¸ªæ·»åŠ  Render çš„å‡ºç«™ IP
   - Comment: "Render Backend Server"
   - ç‚¹å‡» "Confirm"

   é‡å¤æ­¤æ­¥éª¤ï¼Œæ·»åŠ æ‰€æœ‰ Render å‡ºç«™ IPã€‚

4. **å¯é€‰: æ·»åŠ ä½ çš„å¼€å‘æœºå™¨ IP**

   å¦‚æœéœ€è¦ä»æœ¬åœ°è¿æ¥æ•°æ®åº“:
   - ç‚¹å‡» "+ ADD IP ADDRESS"
   - é€‰æ‹© "Add Current IP Address"
   - Comment: "My Development Machine"

**âš ï¸ é‡è¦:**
- Render çš„å‡ºç«™ IP å¯èƒ½ä¼šå˜åŒ–ï¼ˆé‡æ–°éƒ¨ç½²æ—¶ï¼‰
- å¦‚æœçªç„¶æ— æ³•è¿æ¥æ•°æ®åº“ï¼Œæ£€æŸ¥ IP æ˜¯å¦å˜åŒ–
- å¯ä»¥è®¾ç½®è­¦æŠ¥ç›‘æ§è¿æ¥å¤±è´¥

#### æ•°æ®åº“ç”¨æˆ·æƒé™

ç¡®ä¿æ•°æ®åº“ç”¨æˆ·åªæœ‰å¿…éœ€æƒé™:

1. MongoDB Atlas > Database Access
2. æ£€æŸ¥ç”¨æˆ·æƒé™
3. ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ "Read and write to any database" è€Œé "Atlas admin"

```
User: cmax_app_user
Role: readWriteAnyDatabase (æ¨è)
     âŒ ä¸è¦ç”¨ atlasAdmin
```

#### éªŒè¯æ¸…å•
- [ ] MongoDB Atlas Network Access ç§»é™¤äº† 0.0.0.0/0
- [ ] æ·»åŠ äº†æ‰€æœ‰ Render å‡ºç«™ IP
- [ ] åç«¯æœåŠ¡èƒ½æ­£å¸¸è¿æ¥æ•°æ®åº“
- [ ] æ•°æ®åº“ç”¨æˆ·æƒé™æœ€å°åŒ–
- [ ] è¿æ¥å­—ç¬¦ä¸²ä½¿ç”¨äº†å¼ºå¯†ç 

---

### 4ï¸âƒ£ ä¾èµ–é¡¹å®‰å…¨æ‰«æ ğŸ“¦

#### å®šæœŸå®‰å…¨å®¡è®¡

**åç«¯å®‰å…¨æ‰«æ:**
```bash
cd backend
npm audit

# æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š
npm audit --json

# å°è¯•è‡ªåŠ¨ä¿®å¤
npm audit fix

# å¼ºåˆ¶ä¿®å¤ï¼ˆå¯èƒ½ç ´åå…¼å®¹æ€§ï¼Œè°¨æ…ä½¿ç”¨ï¼‰
npm audit fix --force
```

**å‰ç«¯å®‰å…¨æ‰«æ:**
```bash
cd frontend
npm audit
npm audit fix
```

#### å»ºè®®çš„å®šæœŸç»´æŠ¤è®¡åˆ’

| é¢‘ç‡ | æ“ä½œ |
|------|------|
| **æ¯å‘¨** | è¿è¡Œ `npm audit` æ£€æŸ¥ |
| **æ¯æœˆ** | è¿è¡Œ `npm audit fix` ä¿®å¤ä½å±æ¼æ´ |
| **æ¯å­£åº¦** | æ›´æ–°ä¸»è¦ä¾èµ–ç‰ˆæœ¬ |
| **å‘ç°é«˜å±æ¼æ´** | ç«‹å³ä¿®å¤ |

#### è‡ªåŠ¨åŒ–æ‰«æ (æ¨è)

**æ–¹æ³• 1: GitHub Dependabot**

å¦‚æœä»£ç æ‰˜ç®¡åœ¨ GitHub:
1. ä»“åº“ > Settings > Security & analysis
2. å¯ç”¨ "Dependabot alerts"
3. å¯ç”¨ "Dependabot security updates"

**æ–¹æ³• 2: Snyk**

```bash
# å®‰è£… Snyk CLI
npm install -g snyk

# è®¤è¯
snyk auth

# æ‰«æé¡¹ç›®
cd backend
snyk test

cd frontend
snyk test
```

#### å½“å‰å·²çŸ¥å®‰å…¨ä¾èµ–

ä»¥ä¸‹ä¾èµ–å·²ç»åœ¨é¡¹ç›®ä¸­ç”¨äºå®‰å…¨:

```json
{
  "helmet": "^8.1.0",           // HTTP å®‰å…¨å¤´
  "express-rate-limit": "^8.1.0", // API é™æµ
  "express-validator": "^7.3.0",   // è¾“å…¥éªŒè¯
  "bcryptjs": "^2.4.3",           // å¯†ç å“ˆå¸Œ
  "jsonwebtoken": "^9.0.2",       // JWT è®¤è¯
  "cookie-parser": "^1.4.6"       // Cookie è§£æ
}
```

#### éªŒè¯æ¸…å•
- [ ] åç«¯ `npm audit` æ— é«˜å±æ¼æ´
- [ ] å‰ç«¯ `npm audit` æ— é«˜å±æ¼æ´
- [ ] å·²è®¾ç½®è‡ªåŠ¨åŒ–å®‰å…¨æ‰«æ
- [ ] è®¢é˜…äº†å®‰å…¨æ›´æ–°é€šçŸ¥

---

### 5ï¸âƒ£ CORS ç­–ç•¥ ğŸŒ

#### âŒ ä¸å®‰å…¨çš„é…ç½®

```javascript
// åç«¯ server.js - é”™è¯¯ç¤ºä¾‹
app.use(cors({
  origin: '*',  // âŒ å…è®¸ä»»ä½•åŸŸåè®¿é—®
  credentials: true
}))
```

#### âœ… å®‰å…¨çš„é…ç½®

**æ–‡ä»¶: `backend/server.js`**

```javascript
// ç”Ÿäº§ç¯å¢ƒä¸¥æ ¼ CORS
const allowedOrigins = [
  process.env.FRONTEND_URL || 'http://localhost:5173',
  'https://your-app.vercel.app',  // ä½ çš„ Vercel åŸŸå
  'https://cmax-platform.vercel.app' // å¦‚æœ‰å¤šä¸ªåŸŸå
]

app.use(cors({
  origin: function (origin, callback) {
    // å…è®¸æ²¡æœ‰ origin çš„è¯·æ±‚ï¼ˆå¦‚ç§»åŠ¨åº”ç”¨ã€Postmanï¼‰
    if (!origin) return callback(null, true)
    
    if (allowedOrigins.indexOf(origin) === -1) {
      const msg = 'The CORS policy for this site does not allow access from the specified Origin.'
      return callback(new Error(msg), false)
    }
    return callback(null, true)
  },
  credentials: true,  // âœ… å…è®¸ Cookie
  optionsSuccessStatus: 200
}))
```

**æˆ–ç®€å•é…ç½®:**

```javascript
app.use(cors({
  origin: process.env.FRONTEND_URL,  // âœ… ç²¾ç¡®åŒ¹é…
  credentials: true
}))
```

#### Render ç¯å¢ƒå˜é‡è®¾ç½®

```bash
FRONTEND_URL=https://your-app.vercel.app
```

#### éªŒè¯æ–¹æ³•

**æµ‹è¯• 1: æ­£ç¡®çš„åŸŸå**
```bash
curl -H "Origin: https://your-app.vercel.app" \
     -H "Access-Control-Request-Method: POST" \
     -X OPTIONS \
     https://your-backend.onrender.com/api/auth/login \
     --verbose
```

æœŸæœ›ç»“æœ:
```
< Access-Control-Allow-Origin: https://your-app.vercel.app
< Access-Control-Allow-Credentials: true
```

**æµ‹è¯• 2: é”™è¯¯çš„åŸŸå**
```bash
curl -H "Origin: https://evil-site.com" \
     -X OPTIONS \
     https://your-backend.onrender.com/api/auth/login \
     --verbose
```

æœŸæœ›ç»“æœ: æ—  `Access-Control-Allow-Origin` å¤´ï¼Œæˆ–è¿”å›é”™è¯¯

#### éªŒè¯æ¸…å•
- [ ] CORS origin ä¸æ˜¯ `*`
- [ ] CORS origin è®¾ç½®ä¸º Vercel å‰ç«¯ URL
- [ ] credentials è®¾ç½®ä¸º true (Cookie éœ€è¦)
- [ ] æµ‹è¯•äº†ä¸åŒ origin çš„è¯·æ±‚
- [ ] ç”Ÿäº§ç¯å¢ƒåªå…è®¸ä½ çš„åŸŸå

---

## ğŸš€ é¢å¤–å®‰å…¨åŠ å›º

### 6ï¸âƒ£ API é€Ÿç‡é™åˆ¶

é˜²æ­¢æš´åŠ›ç ´è§£å’Œ DDoS æ”»å‡»ã€‚

**æ–‡ä»¶: `backend/server.js`**

```javascript
const rateLimit = require('express-rate-limit')

// é€šç”¨ API é™æµ
const apiLimiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 åˆ†é’Ÿ
  max: 100, // é™åˆ¶ 100 æ¬¡è¯·æ±‚
  message: 'Too many requests from this IP, please try again later.',
  standardHeaders: true,
  legacyHeaders: false,
})

// ç™»å½•æ¥å£ä¸¥æ ¼é™æµ
const loginLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  max: 5, // 15 åˆ†é’Ÿå†…æœ€å¤š 5 æ¬¡ç™»å½•å°è¯•
  skipSuccessfulRequests: true,
  message: 'Too many login attempts, please try again later.'
})

// åº”ç”¨é™æµ
app.use('/api/', apiLimiter)
app.use('/api/auth/login', loginLimiter)
```

**éªŒè¯:**
- [ ] è¿ç»­å¿«é€Ÿè¯·æ±‚ API ä¼šè¢«é™åˆ¶
- [ ] ç™»å½•å¤±è´¥ 5 æ¬¡åæš‚æ—¶é”å®š

---

### 7ï¸âƒ£ å®‰å…¨å“åº”å¤´ (Helmet)

**æ–‡ä»¶: `backend/server.js`**

å½“å‰é…ç½®æ£€æŸ¥:
```javascript
app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      styleSrc: ["'self'", "'unsafe-inline'"],
      scriptSrc: ["'self'"],
      imgSrc: ["'self'", "data:", "https:"],
    },
  },
  crossOriginEmbedderPolicy: false,
}))
```

**éªŒè¯:**
```bash
curl -I https://your-backend.onrender.com/api/health
```

æœŸæœ›çœ‹åˆ°çš„å“åº”å¤´:
```
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-XSS-Protection: 0
Strict-Transport-Security: max-age=15552000; includeSubDomains
```

---

### 8ï¸âƒ£ æ—¥å¿—å’Œç›‘æ§ ğŸ“Š

#### Render æ—¥å¿—ç›‘æ§

1. Render Dashboard > é€‰æ‹©æœåŠ¡ > Logs
2. ç›‘æ§:
   - ç™»å½•å¤±è´¥æ¬¡æ•°å¼‚å¸¸å¢åŠ 
   - 401/403 é”™è¯¯é¢‘ç¹
   - æ•°æ®åº“è¿æ¥å¤±è´¥

#### æ¨èå·¥å…·

**åº”ç”¨ç›‘æ§:**
- **Sentry** - é”™è¯¯è¿½è¸ª (https://sentry.io)
- **LogRocket** - ç”¨æˆ·ä¼šè¯å½•åˆ¶
- **New Relic** - æ€§èƒ½ç›‘æ§

**å®‰å…¨ç›‘æ§:**
- **Cloudflare** - DDoS é˜²æŠ¤
- **Sucuri** - ç½‘ç«™å®‰å…¨æ‰«æ

#### ç®€å•æ—¥å¿—é…ç½®

**æ–‡ä»¶: `backend/middleware/logger.js`**

```javascript
const logger = (req, res, next) => {
  const start = Date.now()
  
  res.on('finish', () => {
    const duration = Date.now() - start
    console.log({
      method: req.method,
      path: req.path,
      status: res.statusCode,
      duration: `${duration}ms`,
      ip: req.ip,
      userAgent: req.get('user-agent')
    })
  })
  
  next()
}

module.exports = logger
```

---

### 9ï¸âƒ£ å¤‡ä»½ç­–ç•¥ ğŸ’¾

#### MongoDB Atlas è‡ªåŠ¨å¤‡ä»½

1. MongoDB Atlas > Cluster > Backup
2. å¯ç”¨ "Cloud Backup"
3. è®¾ç½®ä¿ç•™ç­–ç•¥:
   - æ¯æ—¥å¤‡ä»½ä¿ç•™ 7 å¤©
   - æ¯å‘¨å¤‡ä»½ä¿ç•™ 4 å‘¨
   - æ¯æœˆå¤‡ä»½ä¿ç•™ 12 æœˆ

#### ä»£ç å¤‡ä»½

- âœ… ä½¿ç”¨ Git ç‰ˆæœ¬æ§åˆ¶
- âœ… æ¨é€åˆ° GitHub/GitLab
- âœ… å®šæœŸæ ‡è®°é‡è¦ç‰ˆæœ¬

---

### ğŸ”Ÿ å®‰å…¨æ£€æŸ¥å·¥å…·

#### åœ¨çº¿å·¥å…·

**SSL/TLS æ£€æŸ¥:**
- https://www.ssllabs.com/ssltest/
- è¾“å…¥ä½ çš„ Vercel å’Œ Render åŸŸå
- ç›®æ ‡: A+ è¯„çº§

**å®‰å…¨å¤´æ£€æŸ¥:**
- https://securityheaders.com/
- æ£€æŸ¥ HTTP å®‰å…¨å¤´é…ç½®
- ç›®æ ‡: A è¯„çº§

**ç½‘ç«™å®‰å…¨æ‰«æ:**
- https://observatory.mozilla.org/

#### æœ¬åœ°å·¥å…·

```bash
# å®‰è£…å®‰å…¨æ‰«æå·¥å…·
npm install -g retire

# æ‰«æè¿‡æ—¶çš„åº“
cd backend
retire

cd frontend
retire
```

---

## ğŸ“‹ éƒ¨ç½²åæœ€ç»ˆéªŒè¯æ¸…å•

### ç¯å¢ƒå˜é‡ âœ…
- [ ] Render ç¯å¢ƒå˜é‡å·²é…ç½®ï¼ˆåŒ…æ‹¬æ‰€æœ‰å¯†é’¥ï¼‰
- [ ] Vercel ç¯å¢ƒå˜é‡å·²é…ç½®ï¼ˆVITE_API_URLï¼‰
- [ ] æœ¬åœ° .env æ–‡ä»¶åœ¨ .gitignore ä¸­
- [ ] Git å†å²ä¸­æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²
- [ ] JWT_SECRET è‡³å°‘ 32 å­—ç¬¦

### HTTPS âœ…
- [ ] Vercel å‰ç«¯å¼ºåˆ¶ HTTPS
- [ ] Render åç«¯ä½¿ç”¨ HTTPS
- [ ] Cookie secure æ ‡è®°åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨
- [ ] SSL Labs æµ‹è¯•è¯„çº§ A+

### æ•°æ®åº“ âœ…
- [ ] MongoDB Atlas ç§»é™¤ 0.0.0.0/0 è§„åˆ™
- [ ] æ·»åŠ äº†æ‰€æœ‰ Render å‡ºç«™ IP
- [ ] æ•°æ®åº“å¯†ç å¼ºåº¦è¶³å¤Ÿï¼ˆè‡³å°‘ 16 å­—ç¬¦ï¼‰
- [ ] æ•°æ®åº“ç”¨æˆ·æƒé™æœ€å°åŒ–
- [ ] å¯ç”¨äº†è‡ªåŠ¨å¤‡ä»½

### ä¾èµ–å®‰å…¨ âœ…
- [ ] åç«¯ npm audit é€šè¿‡
- [ ] å‰ç«¯ npm audit é€šè¿‡
- [ ] è®¾ç½®äº† Dependabot æˆ– Snyk
- [ ] è®¢é˜…äº†å®‰å…¨æ›´æ–°é€šçŸ¥

### CORS âœ…
- [ ] origin ä¸æ˜¯ '*'
- [ ] origin è®¾ç½®ä¸ºç²¾ç¡®çš„å‰ç«¯ URL
- [ ] credentials: true å·²é…ç½®
- [ ] æµ‹è¯•äº†è·¨åŸŸè¯·æ±‚æˆåŠŸ
- [ ] æµ‹è¯•äº†éæ³•åŸŸåè¢«æ‹’ç»

### Cookie å®‰å…¨ âœ…
- [ ] accessToken æœ‰ HttpOnly æ ‡è®°
- [ ] refreshToken æœ‰ HttpOnly æ ‡è®°
- [ ] Cookie æœ‰ Secure æ ‡è®°ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- [ ] Cookie æœ‰ SameSite=Strict
- [ ] Console æ— æ³•è®¿é—® token

### API å®‰å…¨ âœ…
- [ ] ç™»å½•æ¥å£æœ‰é€Ÿç‡é™åˆ¶
- [ ] é€šç”¨ API æœ‰é€Ÿç‡é™åˆ¶
- [ ] æ‰€æœ‰æ•æ„Ÿæ¥å£æœ‰ protect ä¸­é—´ä»¶
- [ ] æ‰€æœ‰æƒé™æ¥å£æœ‰ authorize ä¸­é—´ä»¶
- [ ] Helmet å®‰å…¨å¤´å·²å¯ç”¨

### ç›‘æ§å’Œæ—¥å¿— âœ…
- [ ] Render æ—¥å¿—æ­£å¸¸è®°å½•
- [ ] è®¾ç½®äº†é”™è¯¯ç›‘æ§ï¼ˆå¯é€‰ï¼‰
- [ ] è®¾ç½®äº†æ€§èƒ½ç›‘æ§ï¼ˆå¯é€‰ï¼‰
- [ ] è®¾ç½®äº†å¤‡ä»½ç­–ç•¥

---

## ğŸš¨ å®‰å…¨äº‹ä»¶å“åº”è®¡åˆ’

### å¦‚æœå‘ç°å®‰å…¨æ¼æ´

1. **ç«‹å³è¡ŒåŠ¨**
   - è¯„ä¼°å½±å“èŒƒå›´
   - å¦‚æœ Token æ³„éœ²ï¼Œç«‹å³è½®æ¢æ‰€æœ‰å¯†é’¥
   - å¦‚æœæ•°æ®åº“æ³„éœ²ï¼Œé‡ç½®æ‰€æœ‰ç”¨æˆ·å¯†ç 

2. **ä¿®å¤æ¼æ´**
   - æ›´æ–°ä»£ç 
   - é‡æ–°éƒ¨ç½²
   - è¿è¡Œå®‰å…¨æ‰«æç¡®è®¤ä¿®å¤

3. **é€šçŸ¥ç”¨æˆ·**ï¼ˆå¦‚å¿…è¦ï¼‰
   - é€æ˜æ²Ÿé€š
   - æä¾›è¡¥æ•‘æªæ–½

4. **äº‹åæ€»ç»“**
   - è®°å½•äº‹ä»¶
   - æ›´æ–°å®‰å…¨æµç¨‹
   - åŠ å¼ºç›‘æ§

---

## ğŸ“ æ”¯æŒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- **Render**: https://render.com/docs
- **Vercel**: https://vercel.com/docs
- **MongoDB Atlas**: https://docs.atlas.mongodb.com/

### å®‰å…¨èµ„æº
- **OWASP Top 10**: https://owasp.org/www-project-top-ten/
- **MDN Web Security**: https://developer.mozilla.org/en-US/docs/Web/Security
- **Express Security Best Practices**: https://expressjs.com/en/advanced/best-practice-security.html

---

## âœ… éƒ¨ç½²å®Œæˆç¡®è®¤

**éƒ¨ç½²è´Ÿè´£äººç­¾å­—:**

- å§“å: _______________
- æ—¥æœŸ: _______________
- ç¡®è®¤æ‰€æœ‰æ¸…å•é¡¹å·²å®Œæˆ: â˜

**å®‰å…¨å®¡æ ¸:**

- å®¡æ ¸äºº: _______________
- å®¡æ ¸æ—¥æœŸ: _______________
- æ‰¹å‡†ä¸Šçº¿: â˜

---

**ğŸ‰ æ­å–œï¼æ‚¨çš„åº”ç”¨å·²é‡‡ç”¨ä¸šç•Œæœ€ä½³å®‰å…¨å®è·µéƒ¨ç½²ï¼**

**å®šæœŸç»´æŠ¤æé†’:**
- â° æ¯å‘¨ä¸€æ¬¡ npm audit æ‰«æ
- â° æ¯æœˆä¸€æ¬¡ä¾èµ–æ›´æ–°
- â° æ¯å­£åº¦ä¸€æ¬¡å®‰å…¨å®¡è®¡
- â° æ¯åŠå¹´ä¸€æ¬¡å¯†é’¥è½®æ¢

