# 🎬 Project Ark 演示操作手册
## Demo Operation Manual

**版本**: v2.0.0  
**更新日期**: 2025-10-30  
**适用场景**: 客户演示、内部培训、系统验收

**最新更新**: 
- ✅ 添加产品批量导入功能演示
- ✅ 增加演示前验证脚本
- ✅ 完善生产环境一致性检查

---

## 📋 目录

1. [演示前准备](#演示前准备)
2. [快速启动指南](#快速启动指南)
3. [演示场景设计](#演示场景设计)
4. [新功能演示](#新功能演示)
5. [常见问题处理](#常见问题处理)
6. [演示技巧](#演示技巧)

---

## 🚀 演示前准备

### 1. 环境检查清单

在演示前30分钟完成以下检查：

#### ⚡ 快速验证（推荐）

使用自动验证脚本：
```bash
bash 演示前验证.sh
```

该脚本会自动检查：
- ✅ 环境依赖（Node.js, MongoDB等）
- ✅ 项目结构完整性
- ✅ 关键文件存在性
- ✅ 新功能组件完整性
- ✅ API端点正确性
- ✅ 模板文件可用性
- ✅ 端口占用情况

如果验证脚本全部通过，可以直接启动演示环境。

#### 📋 手动检查清单

- [ ] **MongoDB 已启动**
  ```bash
  brew services start mongodb-community
  # 或
  ./安装MongoDB.sh
  ```

- [ ] **网络连接正常**（如需展示实时功能）

- [ ] **浏览器准备**
  - 推荐使用 Chrome 或 Edge
  - 清除浏览器缓存 (Cmd+Shift+R / Ctrl+Shift+R)
  - 关闭不必要的标签页
  - 调整浏览器窗口大小至演示最佳效果

- [ ] **演示设备检查**
  - 投影仪或外接显示器连接正常
  - 音频设备测试（如需）
  - 电源充足或接入电源

- [ ] **新功能文件检查**
  - [ ] 产品导入模板文件存在
  - [ ] 产品导入页面可访问
  - [ ] 静态文件服务配置正确

### 2. 数据准备

**方式一：使用一键启动脚本（推荐）**

```bash
# 这个脚本会自动完成所有准备工作
bash 演示环境启动.sh
```

**方式二：手动准备**

```bash
# 1. 初始化演示数据
cd backend
npm run seed:final

# 2. 启动后端（终端1）
npm start

# 3. 启动前端（终端2）
cd ../frontend
npm run dev
```

### 3. 验证系统就绪

访问以下地址确认系统正常：

- ✅ 前端: http://localhost:5173
- ✅ 后端: http://localhost:5001/api/health
- ✅ 能够使用测试账号登录

---

## 🎯 快速启动指南

### 启动演示环境

```bash
# 在项目根目录执行
bash 演示环境启动.sh
```

**预期输出**：
```
✅ 环境检查完成
✅ 端口清理完成
✅ 演示数据初始化成功
✅ 后端启动成功
✅ 前端启动成功
✅ 系统验证通过

演示环境已就绪！
前端界面: http://localhost:5173
```

### 停止演示环境

```bash
# 演示结束后执行
bash 停止演示环境.sh
```

---

## 🎬 演示场景设计

### 总体时长规划

| 演示类型 | 建议时长 | 包含场景 |
|---------|---------|---------|
| 快速概览 | 10-15分钟 | 场景1 + 场景2 |
| 标准演示 | 30-45分钟 | 场景1-3 |
| 完整演示 | 60-90分钟 | 场景1-4 + 高级功能 |

---

### 场景1：售前流程（10分钟）

**演示目标**: 展示从项目创建到报价的完整售前流程

#### 步骤 1.1：销售经理创建项目（2分钟）

**登录信息**：
- 手机号: `13000000002`
- 密码: `password`

**操作步骤**：
1. 登录系统
2. 导航到「项目管理」
3. 点击「新建项目」
4. 填写项目信息：
   ```
   项目名称: 【演示】上海石化阀门控制系统
   客户名称: 上海石化集团
   行业: Manufacturing
   预算: 800000
   技术工程师: Tech Engineer User
   ```
5. 提交创建

**演示要点**：
- 🎯 强调项目编号自动生成
- 🎯 展示项目状态自动流转
- 🎯 说明多角色协同机制

---

#### 步骤 1.2：技术工程师选型（3分钟）

**切换账号**：
- 手机号: `13000000003`
- 密码: `password`

**操作步骤**：
1. 查看仪表盘的新任务通知
2. 进入刚创建的项目
3. 点击「技术选型」或「添加需求」
4. 添加两个技术需求：

   **需求1**：
   ```
   标签: V-101
   执行器型号: AT-150-DA
   数量: 10
   ```

   **需求2**：
   ```
   标签: V-102
   执行器型号: GY-200-DA
   数量: 5
   ```

5. 提交技术方案

**演示要点**：
- 🎯 展示智能选型功能（如有集成）
- 🎯 说明执行器型号的技术参数
- 🎯 强调技术方案的完整性

---

#### 步骤 1.3：商务工程师报价（3分钟）

**切换账号**：
- 手机号: `13000000004`
- 密码: `password`

**操作步骤**：
1. 查看「待报价项目」列表
2. 进入演示项目
3. 查看技术方案
4. 生成/查看BOM清单
5. 确认价格（系统自动计算）
6. 完成报价

**演示要点**：
- 🎯 展示BOM自动生成功能
- 🎯 说明价格计算逻辑
- 🎯 展示报价单格式

---

#### 步骤 1.4：销售经理查看报价（2分钟）

**切换回销售经理账号**：
- 手机号: `13000000002`

**操作步骤**：
1. 返回项目列表
2. 查看项目状态（已更新为「已报价」）
3. 查看报价单详情
4. （可选）导出报价单PDF

**演示要点**：
- 🎯 强调全流程可追溯
- 🎯 展示报价审批机制
- 🎯 说明与客户的沟通方式

---

### 场景2：售中流程（5分钟）

**演示目标**: 展示赢单后的合同签订和生产订单创建

#### 步骤 2.1：销售经理标记赢单（2分钟）

**继续使用销售经理账号**

**操作步骤**：
1. 在项目详情页点击「赢单」
2. 填写赢单信息（可选）
3. 点击「生成合同订单」
4. 填写合同信息：
   ```
   合同编号: 自动生成
   签订日期: 今天
   交付日期: 30天后
   付款条件: 预付30%，发货前70%
   ```
5. 提交合同

**演示要点**：
- 🎯 说明赢单与丢单的区别
- 🎯 展示合同模板功能
- 🎯 强调合同审批流程

---

#### 步骤 2.2：商务工程师审核合同（3分钟）

**切换到商务工程师账号**

**操作步骤**：
1. 查看「待审核合同」
2. 审核合同内容
3. 点击「审核通过」
4. 确认收款状态（模拟）
5. 点击「创建生产订单」

**演示要点**：
- 🎯 展示合同审批权限
- 🎯 说明财务流程对接
- 🎯 强调生产订单编号规则（PO-YYYYMM-XXXX）

---

### 场景3：生产与供应链（15分钟）

**演示目标**: 展示从BOM展开到发货的完整生产流程

#### 步骤 3.1：生产计划员展开BOM（3分钟）

**切换账号**：
- 手机号: `13000000006`
- 密码: `password`

**操作步骤**：
1. 查看「待排产订单」
2. 进入演示订单详情
3. 点击「展开BOM」
4. 查看物料清单（执行器、配件等）
5. 生成「采购需求」

**演示要点**：
- 🎯 展示BOM层级结构
- 🎯 说明物料需求计算逻辑
- 🎯 展示库存状态查询

---

#### 步骤 3.2：采购专员创建采购订单（3分钟）

**切换账号**：
- 手机号: `13000000005`
- 密码: `password`

**操作步骤**：
1. 查看「采购需求」列表
2. 创建采购订单
3. 选择供应商: `北京精密机械有限公司`
4. 添加物料和采购价格
5. 设置交货日期
6. 提交订单

**演示要点**：
- 🎯 展示供应商管理功能
- 🎯 说明采购价格对比
- 🎯 展示交期跟踪

---

#### 步骤 3.3：查看物料状态更新（2分钟）

**切换回生产计划员账号**

**操作步骤**：
1. 返回生产订单
2. 查看BOM物料状态更新
3. 确认物料状态为「采购中」
4. 查看预计到货日期

**演示要点**：
- 🎯 强调跨部门数据同步
- 🎯 展示实时状态更新
- 🎯 说明异常预警机制

---

#### 步骤 3.4：车间工人完成作业（3分钟）

**切换账号**：
- 手机号: `13000000010`
- 密码: `password`

**操作步骤**：
1. 查看「我的工单」
2. 选择一个工单
3. 点击「开始作业」
4. 报告完成：
   ```
   完成数量: 按计划数量
   质量状态: 合格
   备注: 按时完成
   ```
5. 提交完工报告

**演示要点**：
- 🎯 展示生产工单界面简洁性
- 🎯 说明工时统计功能
- 🎯 强调质量追溯

---

#### 步骤 3.5：质检员检验产品（2分钟）

**切换账号**：
- 手机号: `13000000007`
- 密码: `password`

**操作步骤**：
1. 查看「待质检任务」
2. 进入检验任务
3. 录入检验结果：
   ```
   外观检查: ✅ 合格
   尺寸测量: ✅ 合格
   功能测试: ✅ 合格
   ```
4. 提交检验报告

**演示要点**：
- 🎯 展示质检标准配置
- 🎯 说明不合格品处理流程
- 🎯 强调质量追溯体系

---

#### 步骤 3.6：物流专员安排发货（2分钟）

**切换账号**：
- 手机号: `13000000008`
- 密码: `password`

**操作步骤**：
1. 查看「待发货订单」
2. 创建发货记录
3. 填写物流信息：
   ```
   物流公司: 顺丰速运
   运单号: SF1234567890
   预计到达: 3天后
   ```
4. 提交发货

**演示要点**：
- 🎯 展示物流跟踪功能
- 🎯 说明客户签收流程
- 🎯 强调交付准时率统计

---

### 场景4：售后服务（5分钟）

**演示目标**: 展示售后工单的创建和处理流程

#### 步骤 4.1：销售经理创建售后工单（2分钟）

**切换到销售经理账号**

**操作步骤**：
1. 导航到「售后服务」
2. 点击「创建工单」
3. 填写工单信息：
   ```
   服务类型: 维修服务
   优先级: High
   问题标题: 执行器V-101异常噪音
   问题描述: 客户反馈设备运行时有异常噪音
   指派给: After-sales Engineer User
   ```
4. 提交工单

**演示要点**：
- 🎯 展示工单编号自动生成（TK-YYYYMM-XXXX）
- 🎯 说明优先级分类
- 🎯 强调响应时效要求

---

#### 步骤 4.2：售后工程师处理工单（3分钟）

**切换账号**：
- 手机号: `13000000009`
- 密码: `password`

**操作步骤**：
1. 查看「我的工单」
2. 打开工单详情
3. 点击「接受工单」
4. 添加处理记录：
   ```
   处理时间: 今天
   处理内容: 现场检查发现润滑油不足，已补充
   使用配件: 润滑油 500ml
   ```
5. 标记为「已解决」
6. 关闭工单

**演示要点**：
- 🎯 展示工单状态流转
- 🎯 说明配件使用记录
- 🎯 强调客户满意度调查

---

## 🎨 演示技巧

### 1. 演示节奏控制

- ⏱️ **快速演示（15分钟）**: 只展示场景1和场景2的核心步骤
- ⏱️ **标准演示（30分钟）**: 场景1-3，每个场景留出提问时间
- ⏱️ **深度演示（60分钟）**: 全部场景 + 高级功能展示

### 2. 观众互动建议

- 💬 在每个场景结束后询问："这个流程是否符合您的业务需求？"
- 💬 鼓励观众提出具体的业务场景问题
- 💬 演示过程中可邀请观众上手操作简单功能

### 3. 强调要点

重点突出以下特色功能：

1. **全流程数字化**
   - 从售前到售后的完整闭环
   - 无纸化办公
   - 数据实时同步

2. **多角色协同**
   - 10个业务角色覆盖全流程
   - 任务自动流转
   - 权限精确控制

3. **智能化功能**
   - 自动BOM展开
   - 智能价格计算
   - 自动编号生成

4. **数据追溯**
   - 所有操作留痕
   - 质量可追溯
   - 审计日志完整

### 4. 常用话术模板

**开场白**：
> "今天我将为大家演示 Project Ark 平台，这是一套专为气动执行器企业设计的全流程数字化管理系统。我们将通过一个完整的业务场景，展示从项目创建到售后服务的全过程。"

**场景过渡**：
> "刚才我们看到了售前流程，接下来让我们看看项目赢单后，系统如何自动生成合同和生产订单..."

**功能亮点**：
> "请大家注意这里，系统自动将采购订单的交期同步到了生产计划中，这种跨部门的数据联动，大大提升了协同效率..."

**结束语**：
> "以上就是 Project Ark 平台的核心功能演示。通过这个平台，企业可以实现从售前到售后的全流程数字化管理，提升效率，降低成本。大家有什么问题吗？"

---

## ✨ 新功能演示

### 场景5：产品批量导入（5分钟）

**演示目标**: 展示管理员或技术工程师如何批量导入产品数据

**适用场景**:
- 初始化大量产品数据
- 产品信息批量更新
- 从其他系统迁移数据

---

#### 步骤 5.1：访问批量导入功能（1分钟）

**使用账号**：
- 技术工程师: `13000000003` / `password`
- 或管理员: `13000000001` / `password`

**操作步骤**：
1. 登录系统
2. 在左侧导航栏找到「产品批量导入」
3. 点击进入导入页面

**演示要点**：
- 🎯 强调权限控制：只有管理员和技术工程师可见
- 🎯 展示友好的用户界面设计
- 🎯 说明功能的应用场景

---

#### 步骤 5.2：下载导入模板（1分钟）

**操作步骤**：
1. 点击「下载产品导入模板」按钮
2. 打开下载的 CSV 文件
3. 展示模板结构和示例数据

**模板包含字段**：

**必填字段**（5个）：
- `modelNumber` - 产品型号（唯一）
- `description` - 产品描述
- `torqueValue` - 扭矩值 (Nm)
- `operatingPressure` - 工作压力 (bar)
- `basePrice` - 基础价格

**可选字段**（26+个）：
- 产品系列、类别
- 扭矩范围、压力范围
- 温度规格、旋转角度
- 尺寸参数（长宽高重）
- 接口规格、安装类型
- 材料信息
- 性能参数
- 库存信息
- 标签和分类

**演示要点**：
- 🎯 强调模板的专业性和完整性
- 🎯 展示示例数据，说明填写规范
- 🎯 说明必填字段和可选字段的区别

---

#### 步骤 5.3：准备导入数据（演示用现成模板）

**操作说明**：

在实际使用中，用户需要：
1. 使用 Excel 打开模板
2. 按照字段说明填写产品数据
3. 保存为 CSV 或 XLSX 格式

**演示时可直接使用**：
- 模板自带的示例数据（SF-100, SF-200）
- 或提前准备好的测试数据文件

**演示要点**：
- 🎯 说明数据准备的注意事项
- 🎯 强调型号唯一性要求
- 🎯 展示支持的文件格式（CSV, XLSX, XLS）

---

#### 步骤 5.4：执行批量导入（2分钟）

**操作步骤**：
1. 点击「选择 Excel 文件」
2. 选择准备好的数据文件
3. 系统显示文件名和大小
4. 点击「开始导入」按钮
5. 等待处理（通常几秒钟）
6. 查看导入结果

**导入结果展示**：

系统会显示详细的导入结果模态框：

**统计信息**：
- ✅ 成功导入数量
- ❌ 失败数量
- ⚠️ 跳过数量（已存在）

**错误详情**（如有）：
- 显示具体的行号
- 说明失败原因
- 如"第3行：缺少必填字段"

**跳过详情**（如有）：
- 显示被跳过的记录
- 说明跳过原因
- 如"第5行：产品 SF-100 已存在"

**演示要点**：
- 🎯 强调实时反馈机制
- 🎯 展示错误处理的友好性
- 🎯 说明部分成功的处理方式（容错机制）
- 🎯 验证导入成功：返回产品列表查看新增产品

---

#### 步骤 5.5：验证导入结果（可选）

**操作步骤**：
1. 导航到「产品数据库」
2. 搜索刚导入的产品型号
3. 查看产品详情
4. 确认所有字段正确导入

**演示要点**：
- 🎯 展示数据完整性
- 🎯 说明数据验证机制
- 🎯 强调系统的可靠性

---

### 📊 新功能亮点总结

**产品批量导入功能的价值**：

1. **效率提升**
   - 一次可导入数百条产品数据
   - 相比手动录入，效率提升100倍以上
   - 适合系统初始化和批量更新

2. **数据质量保障**
   - 自动验证必填字段
   - 检查数据类型和格式
   - 防止重复数据（型号唯一性）
   - 详细的错误提示

3. **用户体验优化**
   - 清晰的步骤指引
   - 标准化的模板文件
   - 实时的处理反馈
   - 友好的错误提示

4. **安全性控制**
   - 基于角色的权限控制
   - 文件类型严格验证
   - 文件大小限制（10MB）
   - 操作日志记录

---

## ❓ 常见问题处理

### 问题1：无法登录

**症状**: 输入账号密码后提示错误或无响应

**解决方案**:
```bash
# 1. 检查后端是否运行
curl http://localhost:5001/api/health

# 2. 如果后端未运行，重启服务
bash 演示环境启动.sh

# 3. 如果仍有问题，重新初始化数据
cd backend
npm run seed:final
```

---

### 问题2：页面显示异常

**症状**: 页面空白、样式错乱、功能按钮不响应

**解决方案**:
```bash
# 1. 清除浏览器缓存（Cmd+Shift+R 或 Ctrl+Shift+R）

# 2. 检查前端是否正常运行
curl http://localhost:5173

# 3. 查看前端日志
tail -f frontend/demo_frontend.log

# 4. 重启前端服务
cd frontend
npm run dev
```

---

### 问题3：产品导入失败

**症状**: 批量导入时显示错误，或导入结果与预期不符

**解决方案**:
```bash
# 1. 检查模板文件是否存在
ls -la backend/templates/product_import_template.csv

# 2. 检查静态文件服务是否配置
curl http://localhost:5001/templates/product_import_template.csv

# 3. 检查后端日志
tail -f backend/demo_backend.log | grep import

# 4. 验证 xlsx 依赖已安装
cd backend && npm list xlsx
```

**常见错误及解决**:
- "请上传Excel文件" → 确保选择了文件
- "只支持CSV和Excel文件" → 检查文件格式（.csv, .xlsx, .xls）
- "缺少必填字段" → 检查Excel中的必填列是否填写完整
- "产品已存在" → 型号重复，修改或删除已存在的产品

---

### 问题4：数据不一致

**症状**: 演示过程中数据混乱、项目状态异常

**解决方案**:
```bash
# 重新初始化演示数据
cd backend
npm run seed:final

# 刷新浏览器页面
```

---

### 问题4：网络请求失败

**症状**: 操作时提示"网络错误"或"请求失败"

**解决方案**:
```bash
# 1. 检查后端健康状态
curl http://localhost:5001/api/health

# 2. 查看后端日志
tail -f backend/demo_backend.log

# 3. 检查端口占用
lsof -i :5001
lsof -i :5173

# 4. 如有问题，重启演示环境
bash 停止演示环境.sh
bash 演示环境启动.sh
```

---

### 问题5：演示中途需要暂停

**建议做法**:
- ✅ 不要关闭浏览器标签页
- ✅ 保持后端和前端服务运行
- ✅ 暂停超过1小时建议重新初始化数据
- ✅ 继续前先刷新浏览器页面

---

## 📊 演示效果评估

### 演示后检查清单

演示结束后，评估以下方面：

- [ ] 观众是否理解了系统的核心价值
- [ ] 是否成功展示了关键功能
- [ ] 观众提出的问题是否得到解答
- [ ] 是否收集到了改进建议

### 常见观众反馈

| 反馈类型 | 处理建议 |
|---------|---------|
| "能否与我们的ERP系统集成？" | 说明系统提供标准API接口，支持第三方集成 |
| "是否支持移动端访问？" | 展示响应式设计，说明移动端优化 |
| "数据安全如何保障？" | 介绍权限控制、数据加密、审计日志等安全机制 |
| "能否定制开发？" | 说明系统的可扩展性和定制开发能力 |

---

## 🔧 演示环境维护

### 日常维护

**每次演示前**:
```bash
# 运行一键启动脚本
bash 演示环境启动.sh
```

**每次演示后**:
```bash
# 停止演示环境
bash 停止演示环境.sh

# （可选）清理日志文件
rm -f backend/demo_backend.log frontend/demo_frontend.log
```

### 定期维护

**每周维护**:
```bash
# 更新依赖包
cd backend && npm update
cd ../frontend && npm update

# 清理临时文件
rm -f backend/*.log frontend/*.log
```

**每月维护**:
- 检查MongoDB磁盘空间
- 审查演示数据的完整性
- 更新测试用例

---

## 📚 相关文档

- `FINAL_ACCEPTANCE_GUIDE.md` - 详细验收测试指南
- `SYSTEM_OVERVIEW.md` - 系统概述文档
- `API_REFERENCE.md` - API接口文档

---

## 📞 技术支持

如在演示过程中遇到技术问题，请参考以下资源：

1. 查看系统日志：
   - 后端日志: `backend/demo_backend.log`
   - 前端日志: `frontend/demo_frontend.log`

2. 检查系统状态：
   ```bash
   # 后端健康检查
   curl http://localhost:5001/api/health
   
   # 数据库连接测试
   mongosh --eval "db.adminCommand('ping')"
   ```

3. 联系开发团队：Project Ark Team

---

**版本历史**：
- v1.0.0 (2025-10-30): 初始版本，包含完整演示流程

**维护者**: Project Ark Team

---

© 2025 Project Ark Team. All Rights Reserved.

