# 温度选项快速参考 🚀

**版本**: v1.0  
**更新时间**: 2025-10-27

---

## 📊 字段结构

```javascript
temperature_options: [{
  code: String,        // 温度代码（大写）
  description: String, // 描述
  range: String        // 温度范围
}]
```

---

## 🔥 标准温度代码

| Code | Description | Range | 说明 |
|------|-------------|-------|------|
| `NO CODE` | 常温 Normal atmospheric temperature | -20~80°C | 标准 |
| `T1` | 低温 Low T1 | -40~80°C | 轻度低温 |
| `T2` | 低温 Low T2 | -50~80°C | 中度低温 |
| `T3` | 低温 Low T3 | -60~80°C | 极端低温 |
| `M` | 高温 High Temp | -20~120°C | 高温 |

---

## 💻 常用代码片段

### 创建带温度选项的执行器

```javascript
await Actuator.create({
  model_base: "AT-DA63",
  series: "AT",
  temperature_options: [
    { code: "NO CODE", description: "常温 Normal", range: "-20~80°C" },
    { code: "T1", description: "低温 Low T1", range: "-40~80°C" },
    { code: "M", description: "高温 High Temp", range: "-20~120°C" }
  ]
});
```

### 查询支持特定温度的执行器

```javascript
const actuators = await Actuator.find({
  'temperature_options.code': 'T1',
  is_active: true
});
```

### 检查是否支持某温度代码

```javascript
const supportsT1 = actuator.temperature_options.some(
  opt => opt.code === 'T1'
);
```

### 添加温度选项

```javascript
actuator.temperature_options.push({
  code: 'T2',
  description: '低温 Low T2',
  range: '-50~80°C'
});
await actuator.save();
```

---

## 🎯 系列默认配置

### AT 系列（全部支持）

```javascript
const AT_TEMP_OPTIONS = [
  { code: 'NO CODE', description: '常温 Normal', range: '-20~80°C' },
  { code: 'T1', description: '低温 Low T1', range: '-40~80°C' },
  { code: 'T2', description: '低温 Low T2', range: '-50~80°C' },
  { code: 'T3', description: '低温 Low T3', range: '-60~80°C' },
  { code: 'M', description: '高温 High Temp', range: '-20~120°C' }
];
```

### GY 系列（部分支持）

```javascript
const GY_TEMP_OPTIONS = [
  { code: 'NO CODE', description: '常温 Normal', range: '-20~80°C' },
  { code: 'T1', description: '低温 Low T1', range: '-40~80°C' },
  { code: 'M', description: '高温 High Temp', range: '-20~120°C' }
];
```

### SF 系列（仅常温）

```javascript
const SF_TEMP_OPTIONS = [
  { code: 'NO CODE', description: '常温 Normal', range: '-20~80°C' }
];
```

---

## 🔧 前端集成

### React 动态选择器

```jsx
<Select placeholder="选择温度等级">
  {actuator.temperature_options?.map(opt => (
    <Select.Option key={opt.code} value={opt.code}>
      {opt.description} ({opt.range})
    </Select.Option>
  ))}
</Select>
```

---

## 📝 验证示例

```javascript
// 验证温度代码
const validateTempCode = async (actuatorId, code) => {
  const actuator = await Actuator.findById(actuatorId);
  return actuator.temperature_options.some(
    opt => opt.code === code.toUpperCase()
  );
};

// 使用
const isValid = await validateTempCode(actuatorId, 'T1');
if (!isValid) {
  throw new Error('该型号不支持此温度代码');
}
```

---

## ⚡ 批量导入模板

```javascript
// 导入时添加温度选项
const actuatorData = {
  model_base: row['model_base'],
  series: row['series'],
  
  temperature_options: 
    row['series'] === 'AT' ? AT_TEMP_OPTIONS :
    row['series'] === 'GY' ? GY_TEMP_OPTIONS :
    SF_TEMP_OPTIONS,
  
  // ... 其他字段
};
```

---

## 📊 数据示例

```json
{
  "model_base": "AT-DA63",
  "series": "AT",
  "temperature_options": [
    {
      "code": "NO CODE",
      "description": "常温 Normal atmospheric temperature",
      "range": "-20~80°C"
    },
    {
      "code": "T1",
      "description": "低温 Low T1",
      "range": "-40~80°C"
    },
    {
      "code": "M",
      "description": "高温 High Temp",
      "range": "-20~120°C"
    }
  ]
}
```

---

## ✅ 最佳实践

1. ✅ 代码自动转大写
2. ✅ 至少包含 `NO CODE`
3. ✅ 保持格式一致
4. ✅ 使用标准代码
5. ✅ 验证用户输入

---

**详细文档**: 见 `温度选项字段使用指南.md`

