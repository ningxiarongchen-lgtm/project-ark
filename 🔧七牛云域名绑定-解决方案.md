# 🔧 七牛云域名绑定 - 解决域名冲突

## ⚠️ 问题
绑定域名 `project-ark.com.cn` 时提示：
```
域名冲突，该域名在其他账号被创建过或被某个泛域名覆盖
```

---

## ✅ 解决方案：使用子域名

### 第1步：修改域名为子域名

在七牛云"添加域名"页面，将域名改为：

```
cdn.project-ark.com.cn
```

**其他配置保持不变：**
- 通信协议：HTTP
- 覆盖范围：中国大陆
- 使用场景：下载分发
- IP协议：IPv4 / IPv6
- 源站配置：七牛云存储

### 第2步：点击"创建"

七牛云会返回一个 **CNAME 地址**，类似：
```
cdn.project-ark.com.cn.qiniudns.com
```

### 第3步：配置DNS解析

#### 如果域名在阿里云：
1. 登录阿里云控制台
2. 进入"域名" → 找到 `project-ark.com.cn`
3. 点击"解析"
4. 点击"添加记录"
   ```
   记录类型：CNAME
   主机记录：cdn
   解析路线：默认
   记录值：七牛云给的CNAME地址（从上一步复制）
   TTL：10分钟
   ```
5. 点击"确认"

#### 如果域名在其他服务商：
找到 DNS 管理页面，添加 CNAME 记录：
```
名称/主机记录：cdn
类型：CNAME
值：七牛云给的CNAME地址
```

### 第4步：等待生效

- DNS生效时间：5-10分钟
- 七牛云检测时间：约5分钟

### 第5步：测试访问

生效后，访问：
```
http://cdn.project-ark.com.cn/index.html
```

✅ 如果能看到页面，说明配置成功！

---

## 🎯 推荐子域名名称

| 子域名 | 用途 | 示例 |
|--------|------|------|
| `cdn.project-ark.com.cn` | CDN加速 | ⭐ 推荐 |
| `static.project-ark.com.cn` | 静态资源 | 常用 |
| `assets.project-ark.com.cn` | 资源文件 | 专业 |
| `files.project-ark.com.cn` | 文件存储 | 清晰 |
| `app.project-ark.com.cn` | 应用前端 | 直观 |

**建议使用：** `cdn.project-ark.com.cn` ⭐

---

## 🔍 其他可能的解决方案

### 方案2：检查是否自己的其他bucket占用

1. 在七牛云控制台，查看"对象存储"
2. 检查所有存储空间
3. 查看"域名管理"
4. 如果发现 `project-ark.com.cn` 在其他地方绑定了
5. 可以先解绑，再绑定到当前bucket

### 方案3：使用完全不同的域名

如果您有其他域名，可以使用其他域名：
```
cdn.yourdomain.com
static.yourdomain.cn
```

### 方案4：使用七牛云测试域名（临时）

如果暂时不想配置域名，可以：
1. 跳过域名绑定
2. 使用七牛云提供的测试域名
3. 格式：`http://xxxxx.bkt.clouddn.com`
4. ⚠️ 注意：测试域名30天有效期

---

## 💡 为什么会域名冲突？

可能的原因：
1. **其他七牛云账号**已经绑定了这个域名
2. **同一账号的其他bucket**已经绑定
3. **被泛域名覆盖**（如 `*.project-ark.com.cn`）
4. **之前绑定过但未解绑**

---

## 📞 如果还是不行

### 联系七牛云客服：
1. 七牛云控制台右下角"在线客服"
2. 或拨打：400-808-9176
3. 说明情况：域名冲突，需要解除绑定

---

## ✅ 推荐操作流程（5分钟）

```bash
# 第1步：使用子域名
域名输入：cdn.project-ark.com.cn

# 第2步：七牛云返回CNAME
例如：cdn.project-ark.com.cn.qiniudns.com

# 第3步：配置DNS
阿里云/腾讯云 → DNS管理 → 添加CNAME记录

# 第4步：等待生效
约5-10分钟

# 第5步：测试访问
http://cdn.project-ark.com.cn/index.html
```

---

## 🎉 完成后你将获得

- ✅ 独立的CDN域名
- ✅ 全国加速访问
- ✅ 支持HTTPS（可选）
- ✅ 专业的访问地址
- ✅ 不受测试域名30天限制

---

## 下一步

配置完成后：
1. ✅ 测试访问速度
2. ✅ 配置HTTPS（推荐）
3. ✅ 刷新CDN缓存
4. ✅ 分享给团队使用

**现在就开始吧！** 🚀

