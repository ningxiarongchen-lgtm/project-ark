# 📋 质检模块 - 快速参考指南

## 🚀 快速开始

### 质检员日常操作

#### 1. 登录并查看任务
```
访问: http://localhost:5173/quality/dashboard
```

#### 2. 开始检验
```
1. 在"待处理任务"标签页找到任务
2. 点击"开始检验"按钮
3. 系统自动加载检验模板
```

#### 3. 执行检验
```
1. 逐项选择检验结果 (Pass/Fail/N/A)
2. 对不合格项填写备注
3. 上传现场照片（可选）
4. 填写综合结论
```

#### 4. 提交结果
```
1. 确保所有项目都已判定（无N/A）
2. 点击"判定合格"或"判定不合格"
3. 确认提交
```

---

## 📊 检验类型说明

| 类型 | 全称 | 触发时机 | 检验对象 |
|------|------|----------|----------|
| IQC | 来料检验 | 采购收货 | 外购物料/零件 |
| IPQC | 过程检验 | 生产过程中 | 半成品/装配过程 |
| FQC | 成品检验 | 生产完成 | 成品执行器 |
| OQC | 出货检验 | 发货前 | 包装/文件 |

---

## 🔄 自动化工作流

### IQC 流程
```
采购员确认收货
    ↓ (自动)
创建IQC检验任务
    ↓
质检员执行检验
    ↓
合格 → 库存可用
不合格 → 库存冻结 + 通知采购员
```

### FQC 流程
```
生产完成
    ↓ (自动)
创建FQC检验任务
    ↓
质检员执行检验
    ↓
合格 → 通知物流发货
不合格 → 通知生产返工
```

---

## 🎯 质检标准（示例）

### AT系列执行器 FQC 标准

| 检验项 | 标准 |
|--------|------|
| 外观检查 | 表面光洁、无划痕、涂层均匀 |
| 尺寸检验 | 关键尺寸符合图纸±0.1mm |
| 气密性测试 | 6bar，保压5分钟，压降<0.1% |
| 开关动作 | 动作顺畅、无卡滞、行程正确 |
| 扭矩测试 | 符合规格±5% |
| 电气测试 | 绝缘电阻>10MΩ |

---

## 🔑 API快速参考

### 获取待检任务
```bash
GET /api/quality-checks?status=Pending
```

### 开始检验
```bash
POST /api/quality-checks/:id/start
```

### 完成检验
```bash
POST /api/quality-checks/:id/complete
Content-Type: application/json

{
  "checkList": [...],
  "overallResult": "Pass",
  "images": [...],
  "notes": "检验完成"
}
```

### 获取检验模板
```bash
GET /api/quality-checks/templates/FQC/AT
```

---

## 📁 文件结构

### 后端
```
backend/
├── models/
│   ├── QualityCheck.js           # 质检任务模型
│   └── ChecklistTemplate.js      # 检验模板模型
├── controllers/
│   └── qualityCheckController.js # 质检控制器
├── routes/
│   └── qualityCheckRoutes.js     # 质检路由
└── scripts/
    └── initQualityTemplates.js   # 模板初始化脚本
```

### 前端
```
frontend/src/pages/quality/
├── QualityInspectorDashboard.jsx # 质检员工作台
└── QualityInspectionPage.jsx     # 检验执行页面
```

---

## 🛠️ 管理员操作

### 初始化检验模板
```bash
node backend/scripts/initQualityTemplates.js
```

### 创建质检员账户
```
1. 登录管理员账户
2. 进入"用户管理"
3. 创建新用户，角色选择"QA"
```

### 自定义检验模板
```bash
POST /api/quality-checks/templates
{
  "name": "自定义模板",
  "productSeries": "AT",
  "checkType": "FQC",
  "items": [
    {
      "itemName": "检验项目",
      "standard": "检验标准",
      "displayOrder": 1
    }
  ]
}
```

---

## ⚡ 常用命令

### 查看质检统计
```bash
# 本月统计
GET /api/quality-checks/stats?startDate=2025-10-01&endDate=2025-10-31
```

### 筛选特定类型任务
```bash
# 仅IQC任务
GET /api/quality-checks?checkType=IQC

# 已完成任务
GET /api/quality-checks?status=Completed
```

---

## ❓ 常见问题速查

### Q: 找不到待检任务？
- 检查是否有采购收货或生产完成操作
- 确认任务状态筛选条件
- 刷新页面

### Q: 检验模板未加载？
- 确认产品系列是否有对应模板
- 检查模板是否为激活状态
- 联系管理员创建模板

### Q: 无法提交检验结果？
- 确保所有检验项都已判定（无N/A）
- 检查网络连接
- 查看浏览器控制台错误信息

### Q: 如何查看历史检验记录？
- 切换到"已完成任务"标签页
- 使用搜索功能查找特定记录
- 点击"查看详情"查看完整信息

---

## 🎨 页面导航

| 页面 | 路径 | 说明 |
|------|------|------|
| 质检员工作台 | `/quality/dashboard` | 查看所有任务 |
| 检验执行页面 | `/quality/inspect/:id` | 执行具体检验 |

---

## 📞 支持

遇到问题？
1. 查看完整文档: `质检模块-完整实现文档.md`
2. 检查后端日志
3. 联系系统管理员

---

**快速参考版本**: v1.0  
**更新日期**: 2025-10-31

