# 智慧选型 - 快速工作流程 ⚡

**更新时间**: 2025-10-30  
**功能**: 批量选型一键提交报价  
**目标**: 减少技术工程师重复工作，提升选型效率

---

## 🎯 核心优化

### 优化前的问题
❌ 技术工程师需要：
1. 在项目详情页一个个添加技术项
2. 手动填写位号、型号、参数
3. 每个都要点"保存"
4. 工作量大，容易出错
5. 最后还要点"完成选型，请求报价"

### 优化后的流程
✅ 技术工程师只需：
1. 在智慧选型页面批量输入扭矩值
2. 一键批量选型
3. **点击"保存并提交报价"** 
4. 🎉 完成！自动提交给商务

**工作量减少 90%！从几十次操作变成 3 次操作！**

---

## 📋 完整工作流程

### 场景：收到一个包含 20 个阀门的项目

#### Step 1: 进入智慧选型
```
侧边栏 → 智慧选型
    ↓
选择"批量选型"Tab
```

#### Step 2: 批量输入选型需求
```
点击"添加行"，批量输入：

位号          扭矩(Nm)    压力(MPa)   阀门类型
FV-101       1500        0.6         球阀
FV-102       2000        0.4         蝶阀
FV-103       800         0.5         球阀
...（继续添加到 20 个）
```

#### Step 3: 一键批量选型
```
点击"开始批量选型"
    ↓
等待 5-10 秒
    ↓
系统自动为每个需求推荐最佳型号
```

#### Step 4: 查看选型结果
```
选型结果表格显示：
✅ 成功: 19 / 总计: 20

位号     推荐型号      实际扭矩   扭矩裕度   状态
FV-101   SF-1600      1600Nm     35%        ✅成功
FV-102   SF-2000      2200Nm     28%        ✅成功
FV-103   SF-800       850Nm      32%        ✅成功
...
```

#### Step 5: 一键完成 🚀
```
点击"保存并提交报价"按钮
    ↓
✅ 自动保存 19 个选型结果到项目
✅ 自动更新项目状态为"技术方案完成"
✅ 商务工程师收到通知
✅ 自动跳转到项目详情页

完成！🎉
```

---

## 🔄 两种保存模式对比

### 模式 1: 仅保存到项目
**适用场景**: 还需要继续添加更多选型

```
点击"仅保存到项目"
    ↓
保存当前 20 个选型结果
    ↓
清空选型表格
    ↓
可以继续添加更多选型
    ↓
重复批量选型流程
    ↓
最后再点"保存并提交报价"
```

### 模式 2: 保存并提交报价 ⭐ 推荐
**适用场景**: 所有选型已完成，直接提交给商务

```
点击"保存并提交报价"
    ↓
✅ 保存所有选型结果
✅ 更新项目状态
✅ 通知商务工程师
✅ 跳转到项目详情页

一键完成所有工作！
```

---

## 💡 使用技巧

### 技巧 1: 分批选型
如果项目很大（50+ 个阀门），可以分批处理：

```
第一批（20个）:
智慧选型 → 批量输入 → 批量选型 → "仅保存到项目"

第二批（20个）:
智慧选型 → 批量输入 → 批量选型 → "仅保存到项目"

第三批（10个）:
智慧选型 → 批量输入 → 批量选型 → "保存并提交报价" ✅
```

### 技巧 2: 复制粘贴快速输入
从 Excel 准备好数据，然后：
1. 点击多次"添加行"
2. 直接在表格中填写
3. 可以用 Tab 键快速切换单元格

### 技巧 3: 检查失败项
如果有选型失败的：
```
选型结果显示:
✅ 成功: 18 / 总计: 20

查看失败的 2 个：
FV-105  -  扭矩 12000Nm  ❌失败  （超出范围）
FV-118  -  扭矩 50Nm     ❌失败  （扭矩太小）

处理方法：
1. 点击"保存并提交报价"（保存成功的 18 个）
2. 失败的 2 个可以：
   - 调整参数重新选型
   - 或在项目详情页手动添加特殊型号
```

---

## 📊 效率对比

### 传统方式（项目详情页手动添加）
| 步骤 | 操作 | 耗时 |
|-----|------|------|
| 1 | 点击"添加技术项" | 1秒 |
| 2 | 填写位号 | 3秒 |
| 3 | 填写型号 | 5秒 |
| 4 | 填写参数 | 10秒 |
| 5 | 点击保存 | 1秒 |
| **单个** | **合计** | **20秒/个** |
| **20个** | **合计** | **400秒 = 6.7分钟** |

### 智慧选型方式 ⚡
| 步骤 | 操作 | 耗时 |
|-----|------|------|
| 1 | 批量输入20行数据 | 120秒 |
| 2 | 点击"开始批量选型" | 10秒 |
| 3 | 点击"保存并提交报价" | 2秒 |
| **20个** | **合计** | **132秒 = 2.2分钟** |

**效率提升 3 倍！节省 4.5 分钟！**

---

## 🎬 完整演示案例

### 案例：广州化工厂项目 - 25个阀门

**项目背景**:
- 项目名称: 广州化工厂阀门改造
- 阀门数量: 25 个
- 位号范围: FV-101 到 FV-125

**操作步骤**:

#### 1️⃣ 登录并进入智慧选型 (30秒)
```
登录: 13000000003 / password
    ↓
侧边栏 → 智慧选型
    ↓
选择"批量选型"Tab
    ↓
从项目列表选择当前项目
```

#### 2️⃣ 批量输入数据 (2分钟)
```
点击 25 次"添加行"
    ↓
填写数据（可以从Excel复制）:

FV-101  1500  0.6  球阀
FV-102  2000  0.4  蝶阀
FV-103  800   0.5  球阀
FV-104  1200  0.6  球阀
...
FV-125  1800  0.4  蝶阀
```

#### 3️⃣ 批量选型 (15秒)
```
点击"开始批量选型"
    ↓
系统处理中...
    ↓
✅ 成功: 24 / 总计: 25
```

#### 4️⃣ 一键提交 (3秒)
```
点击"保存并提交报价"
    ↓
✅ 成功保存 24 个选型结果并提交商务报价！
✅ 商务工程师将收到通知并开始报价工作。
    ↓
自动跳转到项目详情页
```

#### 5️⃣ 处理失败项 (1分钟)
```
在项目详情页
    ↓
看到 24 个选型已保存
    ↓
手动添加失败的 1 个（FV-120，特殊大扭矩）
    ↓
完成！
```

**总耗时: 约 3.5 分钟**  
**传统方式需要: 约 8.3 分钟**  
**节省时间: 58%**

---

## ✅ 功能特点

### 1. 智能推荐
- 自动计算扭矩裕度
- 选择最优型号
- 标注成功/失败状态

### 2. 批量处理
- 一次处理几十个选型
- 并行计算，速度快
- 自动汇总统计

### 3. 一键提交
- 保存 + 提交 = 一步完成
- 自动更新项目状态
- 自动通知商务工程师

### 4. 灵活选择
- 可以分批保存
- 可以继续添加
- 最后统一提交

### 5. 智能引导
- 清晰的操作提示
- 成功后自动跳转
- 失败项明确标注

---

## 🆚 对比传统方式

| 功能 | 传统方式 | 智慧选型 |
|-----|---------|---------|
| **输入方式** | 逐个手动添加 | 批量表格输入 |
| **选型速度** | 手动查找型号 | 自动推荐 |
| **保存操作** | 每个都要点保存 | 一键批量保存 |
| **提交报价** | 需要额外操作 | 一键完成 |
| **效率** | 20秒/个 | 6秒/个 |
| **易用性** | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| **准确性** | 依赖人工 | 系统计算 |

---

## 🔔 注意事项

### 1. 项目选择
- 批量选型前必须选择项目
- 可以从URL参数自动获取
- 也可以在页面中选择

### 2. 数据验证
- 扭矩和压力是必填项
- 阀门类型必须选择
- 位号建议填写（便于识别）

### 3. 失败处理
- 失败的选型不会保存
- 需要手动处理失败项
- 可以调整参数重新选型

### 4. 状态更新
- 点击"保存并提交报价"后
- 项目状态自动变为"技术方案完成"
- 商务工程师会收到通知

---

## 📱 界面说明

### 批量选型界面结构

```
┌─────────────────────────────────────┐
│  智慧选型工具                        │
├─────────────────────────────────────┤
│ [单个选型] [批量选型✓]               │
├─────────────────────────────────────┤
│ ℹ️ 批量选型说明                      │
│   您可以添加多个选型需求，           │
│   系统将自动推荐最佳型号             │
├─────────────────────────────────────┤
│ 当前项目: 广州化工厂项目             │
│ 客户: 广州化工厂                     │
├─────────────────────────────────────┤
│ 选型数据               [+ 添加行]    │
│ ┌───────────────────────────────┐   │
│ │位号  扭矩  压力  阀门类型  操作│   │
│ │FV-101 1500 0.6  球阀     [删]│   │
│ │FV-102 2000 0.4  蝶阀     [删]│   │
│ │...                           │   │
│ └───────────────────────────────┘   │
│          [清空] [⚡开始批量选型]     │
├─────────────────────────────────────┤
│ ✅ 选型结果 (20条)                   │
│    [仅保存到项目] [📤保存并提交报价] │
│ ┌───────────────────────────────┐   │
│ │💡 一键完成选型工作             │   │
│ │• 仅保存：可继续添加            │   │
│ │• 保存并提交：立即提交报价(推荐)│   │
│ └───────────────────────────────┘   │
│ ┌───────────────────────────────┐   │
│ │位号  型号  扭矩  裕度  状态   │   │
│ │FV-101 SF-1600 1600 35% ✅成功│   │
│ │FV-102 SF-2000 2200 28% ✅成功│   │
│ │...                           │   │
│ │成功: 19 / 总计: 20           │   │
│ └───────────────────────────────┘   │
└─────────────────────────────────────┘
```

---

## 🎓 培训要点

### 向技术工程师强调

1. **效率提升**
   - "以前 20 个选型要 7 分钟，现在只要 2 分钟"
   - "不用再一个个手动添加了"

2. **操作简单**
   - "就像填 Excel 表格一样"
   - "最后点一个按钮就完成了"

3. **减少错误**
   - "系统自动推荐，不会选错型号"
   - "扭矩裕度自动计算，不用担心"

4. **工作流顺畅**
   - "选型完直接提交给商务"
   - "不用再去项目详情页操作了"

---

## 📞 支持

### 常见问题

**Q: 如果选型失败怎么办？**
A: 成功的会正常保存，失败的可以调整参数重新选型，或在项目详情页手动添加。

**Q: 可以分多次保存吗？**
A: 可以！用"仅保存到项目"可以分批保存，最后再用"保存并提交报价"。

**Q: 保存后可以修改吗？**
A: 提交报价前可以在项目详情页修改。提交后需要商务驳回才能修改。

**Q: 批量选型有数量限制吗？**
A: 建议每次不超过 50 个，以保证速度。大项目可以分批处理。

---

## 🎯 总结

智慧选型的批量选型功能彻底改变了技术工程师的工作方式：

✅ **从重复劳动到智能推荐**  
✅ **从逐个操作到批量处理**  
✅ **从多步骤到一键完成**  
✅ **从容易出错到系统保障**

**让技术工程师专注于技术判断，而不是重复操作！**

---

**文档版本**: v1.0  
**维护人员**: AI Assistant  
**最后更新**: 2025-10-30

