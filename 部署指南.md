# ç³»ç»Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

### 1. ä»£ç å®Œæˆæƒ…å†µ

- [x] é€‰å‹é€»è¾‘ä¿®å¤ï¼ˆSF/AT/GYå…¨ç³»åˆ—ï¼‰
- [x] æ•°æ®å®Œæ•´æ€§ï¼ˆ99.1%ï¼‰
- [x] æ‰¹é‡é€‰å‹åŠŸèƒ½
- [x] PDF/å›¾ç‰‡æ™ºèƒ½è§£æ
- [x] AIå‚æ•°æå–
- [x] å‰ç«¯ç•Œé¢å®Œæ•´

### 2. ä¾èµ–åŒ…å®‰è£…

**åç«¯**:
```bash
cd backend
npm install
# æ–°å¢ä¾èµ–å·²å®‰è£…:
# - pdf-parse
# - tesseract.js  
# - openai
# - multer
# - sharp
```

**å‰ç«¯**:
```bash
cd frontend
npm install
```

---

## ğŸš€ Gitæäº¤æ­¥éª¤

### 1. æ£€æŸ¥ä¿®æ”¹æ–‡ä»¶

```bash
cd /Users/hexiaoxiao/Desktop/Model\ Selection\ System
git status
```

### 2. æ·»åŠ æ‰€æœ‰ä¿®æ”¹

```bash
# æ·»åŠ åç«¯æ–‡ä»¶
git add backend/services/documentParser.js
git add backend/services/aiExtractor.js
git add backend/controllers/documentUploadController.js
git add backend/controllers/selectionController.js
git add backend/routes/documentRoutes.js
git add backend/server.js
git add backend/package.json

# æ·»åŠ å‰ç«¯æ–‡ä»¶
git add frontend/src/pages/SmartBatchSelection.jsx
git add frontend/src/App.jsx

# æ·»åŠ æ–‡æ¡£
git add ç³»ç»Ÿè¯´æ˜.md
git add AIåŠŸèƒ½å¼€å‘è®¡åˆ’.md
git add éƒ¨ç½²æŒ‡å—.md
git add PRODUCTION_READINESS_REPORT.md
```

### 3. æäº¤ä»£ç 

```bash
git commit -m "feat: æ·»åŠ PDF/å›¾ç‰‡æ™ºèƒ½è§£æå’ŒAIæ‰¹é‡é€‰å‹åŠŸèƒ½

- æ–°å¢æ–‡æ¡£è§£ææœåŠ¡ï¼ˆPDFã€å›¾ç‰‡OCRï¼‰
- é›†æˆOpenAI GPTå‚æ•°æå–
- å®ç°æ™ºèƒ½æ‰¹é‡é€‰å‹API
- æ·»åŠ å‰ç«¯æ™ºèƒ½ä¸Šä¼ ç•Œé¢
- ä¿®å¤é€‰å‹é€»è¾‘ï¼ˆæ”¯æŒSF/AT/GYå…¨ç³»åˆ—ï¼‰
- æ•°æ®å®Œæ•´æ€§99.1%

åŠŸèƒ½ç‰¹æ€§:
âœ… PDFæŠ€æœ¯æ–‡æ¡£æ™ºèƒ½è§£æ
âœ… å›¾ç‰‡OCRè¯†åˆ«ï¼ˆä¸­è‹±æ–‡ï¼‰
âœ… AIè‡ªåŠ¨æå–é€‰å‹å‚æ•°
âœ… è¡¨æ ¼è¯†åˆ«å’Œæå–
âœ… æ‰¹é‡é€‰å‹å¤„ç†
âœ… ç»“æœå¯¼å‡ºï¼ˆExcelï¼‰

APIç«¯ç‚¹:
- POST /api/document/upload
- POST /api/document/batch-select

å‰ç«¯è·¯ç”±:
- /smart-batch-selection
"
```

### 4. æ¨é€åˆ°è¿œç¨‹ä»“åº“

```bash
# æ¨é€åˆ°ä¸»åˆ†æ”¯
git push origin main

# æˆ–æ¨é€åˆ°å¼€å‘åˆ†æ”¯
git push origin develop
```

---

## ğŸ”§ ç¯å¢ƒé…ç½®

### 1. åç«¯ç¯å¢ƒå˜é‡ (.env)

```bash
# MongoDB
MONGODB_URI=mongodb://localhost:27017/cmax

# JWT
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRE=30d

# OpenAI API (å¯é€‰ï¼Œç”¨äºAIæå–)
OPENAI_API_KEY=sk-your-openai-api-key-here

# æœåŠ¡å™¨
PORT=3000
NODE_ENV=production

# CORS
FRONTEND_URL=http://localhost:3001
```

### 2. åˆ›å»ºä¸Šä¼ ç›®å½•

```bash
cd backend
mkdir -p uploads/documents
chmod 755 uploads/documents
```

---

## ğŸ“¦ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### æ–¹æ¡ˆ1: æœ¬åœ°æœåŠ¡å™¨éƒ¨ç½²

#### 1. å®‰è£…ä¾èµ–

```bash
# åç«¯
cd backend
npm install --production

# å‰ç«¯
cd frontend
npm install
npm run build
```

#### 2. é…ç½®Nginx

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /path/to/frontend/build;
        try_files $uri /index.html;
    }

    # åç«¯API
    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # ä¸Šä¼ æ–‡ä»¶
    location /uploads {
        alias /path/to/backend/uploads;
    }
}
```

#### 3. ä½¿ç”¨PM2ç®¡ç†è¿›ç¨‹

```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨åç«¯
cd backend
pm2 start server.js --name "cmax-backend"

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs cmax-backend

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

### æ–¹æ¡ˆ2: Dockeréƒ¨ç½²

#### 1. åˆ›å»ºDockerfile (åç«¯)

```dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install --production

COPY . .

EXPOSE 3000

CMD ["node", "server.js"]
```

#### 2. åˆ›å»ºdocker-compose.yml

```yaml
version: '3.8'

services:
  mongodb:
    image: mongo:6
    volumes:
      - mongo-data:/data/db
    ports:
      - "27017:27017"

  backend:
    build: ./backend
    ports:
      - "3000:3000"
    environment:
      - MONGODB_URI=mongodb://mongodb:27017/cmax
      - NODE_ENV=production
    depends_on:
      - mongodb
    volumes:
      - ./backend/uploads:/app/uploads

  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend

volumes:
  mongo-data:
```

#### 3. å¯åŠ¨æœåŠ¡

```bash
docker-compose up -d
```

---

## âœ… éƒ¨ç½²åéªŒè¯

### 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥åç«¯
curl http://localhost:3000/api/health

# æ£€æŸ¥å‰ç«¯
curl http://localhost:3001
```

### 2. æµ‹è¯•åŠŸèƒ½

1. **ç™»å½•ç³»ç»Ÿ**
   - è®¿é—® http://localhost:3001
   - ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•

2. **æµ‹è¯•å•ä¸ªé€‰å‹**
   - è¿›å…¥"é€‰å‹å¼•æ“"
   - è¾“å…¥å‚æ•°æµ‹è¯•

3. **æµ‹è¯•æ‰¹é‡é€‰å‹ï¼ˆExcelï¼‰**
   - è¿›å…¥"æ‰¹é‡é€‰å‹"
   - ä¸Šä¼ Excelæ–‡ä»¶æµ‹è¯•

4. **æµ‹è¯•æ™ºèƒ½è§£æ**
   - è¿›å…¥"æ™ºèƒ½æ‰¹é‡é€‰å‹"
   - ä¸Šä¼ PDFæˆ–å›¾ç‰‡æµ‹è¯•

### 3. æ€§èƒ½æµ‹è¯•

```bash
# ä½¿ç”¨Apache Benchæµ‹è¯•
ab -n 100 -c 10 http://localhost:3000/api/selection/calculate
```

---

## ğŸ”’ å®‰å…¨é…ç½®

### 1. é˜²ç«å¢™è®¾ç½®

```bash
# åªå¼€æ”¾å¿…è¦ç«¯å£
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw allow 22/tcp
sudo ufw enable
```

### 2. SSLè¯ä¹¦é…ç½®

```bash
# ä½¿ç”¨Let's Encrypt
sudo certbot --nginx -d your-domain.com
```

### 3. æ•°æ®åº“å®‰å…¨

```bash
# MongoDBå¯ç”¨è®¤è¯
mongosh
use admin
db.createUser({
  user: "admin",
  pwd: "strong_password",
  roles: ["root"]
})
```

---

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### 1. PM2ç›‘æ§

```bash
pm2 monit
```

### 2. æ—¥å¿—æŸ¥çœ‹

```bash
# å®æ—¶æ—¥å¿—
pm2 logs cmax-backend --lines 100

# é”™è¯¯æ—¥å¿—
pm2 logs cmax-backend --err
```

### 3. æ€§èƒ½ç›‘æ§

```bash
# å®‰è£…PM2 Plus
pm2 install pm2-server-monit
```

---

## ğŸ†˜ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   lsof -i :3000
   kill -9 <PID>
   ```

2. **MongoDBè¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥MongoDBçŠ¶æ€
   sudo systemctl status mongod
   
   # é‡å¯MongoDB
   sudo systemctl restart mongod
   ```

3. **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**
   ```bash
   # æ£€æŸ¥ç›®å½•æƒé™
   ls -la backend/uploads
   chmod 755 backend/uploads/documents
   ```

4. **OCRè¯†åˆ«æ…¢**
   - è€ƒè™‘ä½¿ç”¨äº‘OCRæœåŠ¡ï¼ˆç™¾åº¦ã€è…¾è®¯äº‘ï¼‰
   - æˆ–è€…ä½¿ç”¨GPUåŠ é€Ÿ

---

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œè¯·ç¡®è®¤ä»¥ä¸‹é¡¹ç›®ï¼š

- [ ] åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
- [ ] å‰ç«¯å¯ä»¥è®¿é—®
- [ ] MongoDBè¿æ¥æ­£å¸¸
- [ ] ç”¨æˆ·å¯ä»¥ç™»å½•
- [ ] é€‰å‹åŠŸèƒ½æ­£å¸¸
- [ ] æ‰¹é‡é€‰å‹æ­£å¸¸
- [ ] PDFè§£ææ­£å¸¸
- [ ] å›¾ç‰‡è¯†åˆ«æ­£å¸¸
- [ ] æ–‡ä»¶ä¸Šä¼ æ­£å¸¸
- [ ] æ•°æ®å¯¼å‡ºæ­£å¸¸
- [ ] SSLè¯ä¹¦é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- [ ] å¤‡ä»½ç­–ç•¥é…ç½®
- [ ] ç›‘æ§å‘Šè­¦é…ç½®

---

**éƒ¨ç½²å®Œæˆåè¯·é€šçŸ¥ç›¸å…³äººå‘˜è¿›è¡ŒéªŒæ”¶æµ‹è¯•ï¼**
