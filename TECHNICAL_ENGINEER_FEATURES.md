# 技术工程师功能清单

**日期**: 2025-10-30  
**角色**: Technical Engineer (技术工程师)  
**测试账号**: 13000000003 / 密码: password

---

## 📋 功能概览

技术工程师有以下**5个核心功能**：

| 序号 | 功能模块 | 菜单路径 | 主要职责 | 权限说明 |
|-----|---------|---------|---------|---------|
| 1️⃣ | **项目管理** | 侧边栏 → 项目管理 | 针对销售创建的项目进行技术选型 | 只能选型，不能新建项目 |
| 2️⃣ | **智慧选型** | 侧边栏 → 智慧选型 | 单个或批量扭矩值选型 | 可单个选型或批量选型 |
| 3️⃣ | **产品批量导入** | 侧边栏 → 产品批量导入 | 批量导入产品数据 | 可导入执行器、配件等产品 |
| 4️⃣ | **产品数据管理** | 侧边栏 → 产品数据管理 | 查看产品技术参数 | **看不到价格信息** |
| 5️⃣ | **售后服务** | 侧边栏 → 售后服务 | 处理售后工单 | 可查看、处理、回复工单 |

---

## 1️⃣ 项目管理

### 功能描述
技术工程师负责对销售经理创建的项目进行技术选型，选型完成后提交给商务工程师进行报价。

### 工作流程
```
销售创建项目 
    ↓
销售指派技术工程师
    ↓
技术工程师登录 → 看到待选型项目
    ↓
点击项目 → 进入项目详情
    ↓
📋 技术清单Tab（默认打开）
    ├── 左侧: 客户技术需求参考
    │   ├── 技术要求文字说明
    │   ├── 项目附件下载
    │   └── 项目基本信息
    └── 右侧: 技术选型表格
        ├── 添加技术项
        ├── 填写位号、型号、数量
        ├── 填写技术参数(扭矩、压力等)
        └── 保存
    ↓
[完成选型，请求报价] 按钮
    ↓
技术清单锁定 → 提交给商务工程师
```

### 关键功能点
- ✅ **边看需求边选型** - 左右分屏设计，左侧固定显示技术需求
- ✅ **快捷按钮** - 顶部"开始选型"按钮，一键跳转到技术清单
- ✅ **导出功能** - 可导出技术清单PDF（不含价格）
- ❌ **不能新建项目** - 只有销售经理/销售工程师可以新建项目
- ❌ **不能查看报价** - 商务报价对技术工程师不可见

### 页面截图位置
- 项目列表: `/projects`
- 项目详情: `/projects/:id` → 技术清单Tab

---

## 2️⃣ 智慧选型 ⭐ 

### 功能描述
智慧选型是技术工程师的核心工具，支持单个选型和批量扭矩值选型，可快速为客户需求推荐最佳执行器型号。

### 功能特点
- ✅ **单个选型** - 输入单个阀门参数，获取推荐型号
- ✅ **批量选型** - 一次性输入多个扭矩值，批量生成选型结果
- ✅ **智能推荐** - 自动计算扭矩裕度，推荐最优型号
- ✅ **一键保存** - 选型完成后可一键保存到项目

### 工作流程

#### 单个选型模式
```
侧边栏 → 智慧选型
    ↓
选择"单个选型"Tab
    ↓
填写选型参数
├── 执行机构类型（拨叉式/齿轮齿条式）
├── 阀门类型（球阀/蝶阀）
├── 需求扭矩 (Nm)
├── 工作压力 (MPa)
├── 阀门口径、法兰尺寸
└── 其他技术参数
    ↓
点击"查找匹配执行器"
    ↓
查看推荐结果列表
├── 推荐型号
├── 实际扭矩
├── 扭矩裕度
└── 价格（如果有权限）
    ↓
选择最佳型号 → 保存到项目
```

#### 批量选型模式
```
侧边栏 → 智慧选型
    ↓
选择"批量选型"Tab
    ↓
点击"添加行"添加多个选型需求
├── 位号 (Tag Number)
├── 需求扭矩 (Nm)
├── 工作压力 (MPa)
└── 阀门类型
    ↓
点击"开始批量选型"
    ↓
系统自动为每个需求推荐型号
    ↓
查看批量选型结果
├── 推荐型号
├── 实际扭矩
├── 扭矩裕度
└── 成功/失败状态
    ↓
点击"保存到项目" → 一键保存所有结果
```

### 使用场景

**场景1：单个紧急选型**
```
客户临时咨询一个阀门配套执行器
    ↓
打开智慧选型 → 单个选型
    ↓
输入: 扭矩1500Nm, 压力0.6MPa, 球阀
    ↓
立即获得推荐: SF-1600
    ↓
选择型号 → 保存到项目
```

**场景2：批量项目选型**
```
收到客户项目，包含20个阀门需要配执行器
    ↓
打开智慧选型 → 批量选型
    ↓
添加20行数据，填写位号和扭矩值
    ↓
点击"开始批量选型"
    ↓
5秒后获得20个推荐结果
    ↓
检查结果 → 一键保存到项目
```

### 关键功能点
- ⚡ **快速选型** - 单个选型3秒内完成，批量选型平均每个0.5秒
- 🎯 **智能推荐** - 自动选择扭矩裕度最优的型号
- 📊 **结果对比** - 同时显示多个可选型号供对比
- 💾 **项目关联** - 可选择保存到指定项目
- 🔄 **批量操作** - 支持一次性处理几十个选型需求

### 页面路径
`/selection-engine`

---

## 3️⃣ 产品批量导入

### 功能描述
通过上传Excel文件批量导入执行器、配件等产品数据到系统中。

### 使用步骤
```
1. 侧边栏 → 产品批量导入
   ↓
2. 选择产品类型（执行器/配件）
   ↓
3. 下载Excel模板（可选）
   ↓
4. 上传填好的Excel文件
   ↓
5. 系统验证数据
   ↓
6. 确认导入
   ↓
7. 导入成功 ✅
```

### 支持的产品类型
- ✅ 执行器 (Actuators)
- ✅ 配件 (Accessories)

### 注意事项
- 📄 **Excel格式要求**: 按照模板格式填写
- 🔢 **批量限制**: 建议每次不超过500条
- ⚠️ **数据验证**: 系统会自动验证必填字段和数据格式
- 💾 **覆盖规则**: 相同型号会更新，不存在则新增

### 页面路径
`/product-import`

---

## 4️⃣ 产品数据管理

### 功能描述
查看系统中所有产品的技术数据，但**不显示价格信息**，确保技术和商务职责分离。

### Tab结构
```
产品数据管理
├── 📋 执行器管理
│   ├── 可见字段:
│   │   ✅ 型号 (model_base)
│   │   ✅ 系列 (series)
│   │   ✅ 本体尺寸 (body_size)
│   │   ✅ 作用类型 (action_type)
│   │   ✅ 可用状态 (availability)
│   │   ✅ 技术参数 (dimensions)
│   └── 隐藏字段:
│       ❌ 定价模式 (pricing_model)
│       ❌ 基础价格 (base_price)
│
└── 🔧 配件管理
    ├── 可见字段:
    │   ✅ 名称 (name)
    │   ✅ 类别 (category)
    │   ✅ 制造商 (manufacturer)
    │   ✅ 型号 (model_number)
    │   ✅ 库存数量 (stock_quantity)
    └── 隐藏字段:
        ❌ 定价模式 (pricing_model)
        ❌ 基础价格 (base_price)
        ❌ 库存总价值统计
```

### 权限对比

| 字段/功能 | 管理员 | 技术工程师 | 说明 |
|----------|--------|-----------|------|
| 型号、系列 | ✅ | ✅ | 基本信息 |
| 技术参数 | ✅ | ✅ | 选型必需 |
| 定价模式 | ✅ | ❌ | 商务信息 |
| 基础价格 | ✅ | ❌ | 商务信息 |
| 库存价值 | ✅ | ❌ | 财务信息 |
| 编辑权限 | ✅ | ❌ | 只读查看 |

### 使用场景
- 🔍 **选型参考**: 查看产品技术参数辅助选型
- 📊 **库存查询**: 确认产品是否有货
- 📚 **技术学习**: 了解不同系列产品的技术特点

### 页面路径
`/data-management`

---

## 5️⃣ 售后服务

### 功能描述
技术工程师可以查看、处理、回复售后工单，为客户提供技术支持。

### 工单处理流程
```
客户提交售后工单
    ↓
工单分配给技术工程师（张技术）
    ↓
技术工程师登录 → 售后服务
    ↓
查看工单列表
├── 待处理工单
├── 处理中工单
├── 已解决工单
└── 已关闭工单
    ↓
点击工单详情
    ↓
查看问题描述、产品信息、客户信息
    ↓
更新工单状态
├── 标记为"处理中"
├── 添加处理备注
├── 上传解决方案附件
└── 标记为"已解决"
    ↓
客户确认 → 工单关闭
```

### 工单状态
| 状态 | 颜色 | 说明 | 技术工程师操作 |
|------|------|------|---------------|
| 待处理 | 🟡 黄色 | 新创建的工单 | 开始处理 |
| 处理中 | 🔵 蓝色 | 正在处理 | 更新进度 |
| 待反馈 | 🟠 橙色 | 等待客户回复 | 等待客户 |
| 已解决 | 🟢 绿色 | 问题已解决 | 等待客户确认 |
| 已关闭 | ⚪ 灰色 | 工单已关闭 | 归档 |

### 权限说明
- ✅ 查看所有分配给自己的工单
- ✅ 更新工单状态
- ✅ 添加处理备注
- ✅ 上传附件
- ✅ 与客户沟通
- ❌ 不能删除工单
- ❌ 不能修改工单优先级（仅销售经理）

### Dashboard统计
在技术工程师的Dashboard中显示：
- 📊 **待处理售后工单数**
- 📊 **处理中售后工单数**
- 📊 **待反馈售后工单数**
- 📊 **已解决售后工单数**

### 页面路径
- 工单列表: `/service-center`
- 工单详情: `/service-center/:id`

---

## 📊 完整菜单结构

技术工程师登录后看到的侧边栏菜单：

```
智能制造系统
├── 📊 仪表盘
│   ├── 待我选型的项目数
│   ├── 已完成选型的项目数
│   ├── 待处理售后工单数
│   └── 已完成售后工单数
│
├── 📁 项目管理
│   ├── 我的项目（待选型）
│   ├── 选型进行中
│   ├── 已完成选型
│   └── 全部项目
│
├── ⚡ 智慧选型 ⭐ 核心工具
│   ├── 单个选型
│   │   ├── 输入参数
│   │   ├── 查看推荐
│   │   └── 保存到项目
│   └── 批量选型
│       ├── 批量输入扭矩值
│       ├── 一键选型
│       └── 批量保存到项目
│
├── 🛠️ 售后服务
│   ├── 待处理工单
│   ├── 处理中工单
│   ├── 已解决工单
│   └── 全部工单
│
├── 💾 产品数据管理
│   ├── 执行器管理（不含价格）
│   └── 配件管理（不含价格）
│
└── 📤 产品批量导入
    ├── 执行器批量导入
    └── 配件批量导入
```

---

## ❌ 技术工程师不能访问的功能

为了保持职责清晰，以下功能技术工程师**不能访问**：

| 功能 | 原因 | 负责角色 |
|------|------|---------|
| 新建项目 | 项目由销售发起 | 销售经理/销售工程师 |
| 产品目录 | 面向销售的产品展示 | 销售经理 |
| 商务报价 | 价格信息对技术隔离 | 商务工程师 |
| 订单管理 | 商务流程 | 销售经理 |
| 生产排期 | 生产流程 | 生产计划员 |
| 采购管理 | 采购流程 | 采购专员 |
| 供应商管理 | 采购流程 | 采购专员 |
| 用户管理 | 系统管理 | 管理员 |

---

## 🎯 典型工作日场景

### 早上9:00 - 登录查看Dashboard
```
登录系统
    ↓
Dashboard显示:
- 📋 待我选型的项目: 3个
- ✅ 已完成选型的项目: 15个
- 🛠️ 待处理售后工单: 2个
- ✅ 已完成售后工单: 8个
```

### 上午9:30 - 使用智慧选型快速处理
```
1. 点击"智慧选型"
2. 选择"批量选型"Tab
3. 添加3行数据（对应3个待选型项目）
   - FV-101: 扭矩1500Nm, 压力0.6MPa, 球阀
   - FV-102: 扭矩2000Nm, 压力0.4MPa, 蝶阀
   - FV-103: 扭矩800Nm, 压力0.5MPa, 球阀
4. 点击"开始批量选型"
5. 2秒后获得3个推荐结果
6. 检查结果无误
7. 点击"保存到项目"
8. ✅ 3个选型结果已保存
```

### 下午2:00 - 处理售后工单
```
1. 点击"售后服务"
2. 看到2个待处理工单
3. 点击第一个工单"阀门漏气问题"
4. 查看客户描述和现场照片
5. 标记为"处理中"
6. 添加处理方案:
   "建议更换密封圈，型号: SR-100"
7. 上传解决方案PDF
8. 标记为"已解决"
9. ✅ 等待客户确认
```

### 下午4:00 - 批量导入新产品
```
1. 点击"产品批量导入"
2. 选择"执行器"
3. 下载Excel模板
4. 填写20个新型号的执行器数据
5. 上传Excel文件
6. 系统验证通过
7. 确认导入
8. ✅ 20个新产品导入成功
```

---

## 🔒 数据安全和权限控制

### 价格信息隔离
```
技术工程师查看产品数据时:
- ✅ 可以看到: 型号、系列、尺寸、技术参数
- ❌ 看不到: 定价模式、基础价格、阶梯价格
- ❌ 看不到: 库存总价值、成本信息
```

### 只读权限
```
产品数据管理:
- ✅ 可以查看产品数据
- ❌ 不能编辑产品信息
- ❌ 不能删除产品

（仅管理员可以编辑/删除产品）
```

### 项目权限
```
项目管理:
- ✅ 可以查看分配给自己的项目
- ✅ 可以进行技术选型
- ❌ 不能新建项目
- ❌ 不能删除项目
- ❌ 不能查看其他人的项目（除非被分配）
```

---

## 📝 快速参考

### 测试账号
- **用户名**: 13000000003
- **密码**: password
- **姓名**: 张技术
- **角色**: Technical Engineer

### 常用快捷键
- `Ctrl + S`: 保存（技术清单、工单等）
- `Ctrl + N`: 新增项（技术清单中添加新技术项）
- `ESC`: 取消编辑

### 常见问题

**Q: 为什么我看不到产品价格？**
A: 技术工程师角色只负责技术选型，价格信息由商务工程师管理，系统自动隐藏价格字段。

**Q: 我可以新建项目吗？**
A: 不可以。项目由销售经理或销售工程师创建，技术工程师只负责对已有项目进行选型。

**Q: 技术清单提交后可以修改吗？**
A: 提交后会被锁定。如需修改，商务工程师可以驳回，你收到驳回后才能继续修改。

**Q: 售后工单可以删除吗？**
A: 不可以删除，只能关闭。所有工单都需要保留作为服务记录。

**Q: 批量导入失败怎么办？**
A: 检查Excel格式是否符合模板要求，确保必填字段都已填写，数据格式正确。

---

## 🎉 总结

技术工程师在系统中承担**技术选型**和**售后支持**的核心职责：

1. ✅ **专注技术** - 只看技术参数，不涉及价格
2. ✅ **高效选型** - 左右分屏，边看需求边选型
3. ✅ **便捷导入** - 批量导入产品数据
4. ✅ **售后保障** - 及时处理客户技术问题

所有功能设计都围绕技术工程师的实际工作场景，确保简单、高效、专业。

---

**文档版本**: v1.0  
**最后更新**: 2025-10-30  
**维护人员**: 系统管理员

